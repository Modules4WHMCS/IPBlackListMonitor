!function(e,t){"use strict";"function"==typeof define&&define.amd?define(["jquery"],function(n){return t(n,e.document)}):"object"==typeof module&&module.exports?module.exports=function(e,n){return void 0===n&&(n="undefined"!=typeof window?require("jquery"):require("jquery")(e||window)),t(n,e.document),n}:t(jQuery,e.document)}("undefined"!=typeof window?window:this,function(e,t){"use strict";var n,i,s,o,l,a=null!=e.ui&&"string"==typeof e.ui.version?/^([0-9]+)\.([0-9]+)\.([0-9]+)$/.exec(e.ui.version):[],d=null!=a&&4===a.length&&"1"===a[1]&&a[2]<11,u={menuClasses:"ui-menu ui-widget ui-widget-content ui-corner-all",menuIconClasses:"ui-menu-icons ui-menu ui-widget ui-widget-content ui-corner-all",menuDivStyle:{position:"absolute",zIndex:"500"},menuStyle:{width:"100%"},itemClasses:"ui-menu-item",itemStyle:{},itemHoverStyle:{},itemAnchorClasses:"ui-corner-all",itemAnchorStyle:{position:"relative",paddingRight:"0"},itemIconAnchorStyle:{paddingLeft:"2em"},itemIconSpanStyle:{left:".2em",top:".3em",marginRight:".5em",position:"absolute",float:"left"},itemHoverAnchorClasses:"ui-state-hover",eventPosX:"pageX",eventPosY:"pageY",shadow:!0,menuShadowClasses:"ui-widget-shadow",menuShadowStyle:{position:"absolute",zIndex:"499",margin:"0",padding:"1px 0 0 6px"},onContextMenu:null,onShowMenu:null};e.fn.contextMenu=function(a,r){function m(){n.hide().attr("aria-hidden","true"),i.hide().attr("aria-hidden","true")}function c(a,u,r){var c,h=o[a];s=e("#"+h.id).find("ul:first").clone(!0),n.html(s),h.onShowMenu&&(n=h.onShowMenu(r,n)),h.menuClasses&&(h.menuIconClasses&&s.find(".ui-icon").length>0?s.addClass(h.menuIconClasses):s.addClass(h.menuClasses)),e.isEmptyObject(h.menuStyle)||s.css(h.menuStyle),c=s.attr("role","menu").find("li"),h.itemClasses&&c.addClass(h.itemClasses).attr("role",d?"presentation":"menuitem"),e.isEmptyObject(h.itemStyle)||c.css(h.itemStyle),h.itemAnchorClasses&&(d?c.children("a").addClass(h.itemAnchorClasses).filter(":not([role])").attr("role","menuitem"):c.addClass(h.itemAnchorClasses)),e.isEmptyObject(h.itemAnchorStyle)||c.children("a").css(h.itemAnchorStyle),e.isEmptyObject(h.itemIconSpanStyle)||c.children("a").children("span.ui-icon").css(h.itemIconSpanStyle).parent("a").css(h.itemIconAnchorStyle),e.isEmptyObject(h.itemHoverStyle)?c.hover(function(){(d?e(this).children("a"):e(this)).addClass(h.itemHoverAnchorClasses)},function(){(d?e(this).children("a"):e(this)).removeClass(h.itemHoverAnchorClasses)}):e.isEmptyObject(h.itemHoverStyle)||c.hover(function(){e(this).css(h.itemHoverStyle)},function(){e(this).css(h.itemStyle)}),c.find("img").css({verticalAlign:"middle",paddingRight:"2px"}),e.each(h.bindings,function(t,i){e("#"+t,n).bind("click",function(){m(),i(u,l)})}),n.css({left:r[h.eventPosX],top:r[h.eventPosY],"white-space":"pre"}).show().removeAttr("aria-hidden"),h.shadow&&i.css({width:n.width(),height:n.height(),left:r.pageX+2,top:r.pageY+2}).show().removeAttr("aria-hidden");var S=n.offset(),y=0;S.top+n.height()>e(window).scrollTop()+window.innerHeight&&(y=e(window).scrollTop()-S.top-n.height()+window.innerHeight,S.top+=y,n.offset(S),(S=i.offset()).top+=y,i.offset(S)),e(t).one("click",m)}(o=o||[]).push({id:a,menuDivStyle:e.extend({},u.menuDivStyle,r.menuDivStyle||{}),menuStyle:e.extend({},u.menuStyle,r.menuStyle||{}),menuShadowStyle:e.extend({},u.menuShadowStyle,r.menuShadowStyle||{}),itemStyle:e.extend({},u.itemStyle,r.itemStyle||{}),itemHoverStyle:e.extend({},u.itemHoverStyle,r.itemHoverStyle||{}),menuClasses:r.menuClasses||u.menuClasses,menuIconClasses:r.menuIconClasses||u.menuIconClasses,menuShadowClasses:r.menuShadowClasses||u.menuShadowClasses,itemClasses:r.itemClasses||u.itemClasses,itemAnchorClasses:r.itemAnchorClasses||u.itemAnchorClasses,itemAnchorStyle:e.extend({},u.itemAnchorStyle,r.itemAnchorStyle||{}),itemIconSpanStyle:e.extend({},u.itemIconSpanStyle,r.itemIconSpanStyle||{}),itemIconAnchorStyle:e.extend({},u.itemIconAnchorStyle,r.itemIconAnchorStyle||{}),itemHoverAnchorClasses:r.itemHoverAnchorClasses||u.itemHoverAnchorClasses,bindings:r.bindings||{},shadow:r.shadow||!1===r.shadow?r.shadow:u.shadow,onContextMenu:r.onContextMenu||u.onContextMenu,onShowMenu:r.onShowMenu||u.onShowMenu,eventPosX:r.eventPosX||u.eventPosX,eventPosY:r.eventPosY||u.eventPosY});var h=o.length-1;return n||(n=e('<div class="jqContextMenu"></div>').hide().attr("aria-hidden","true").css(o[h].menuDivStyle).appendTo("body").bind("click",function(e){e.stopPropagation()}).mouseleave(function(e){-1===e.pageX&&-1===e.pageY||m()})),i||(i=e("<div></div>").addClass(o[h].menuShadowClasses).css(o[h].menuShadowStyle).appendTo("body").hide().attr("aria-hidden","true")),e(this).bind("contextmenu",function(e){var t=!o[h].onContextMenu||o[h].onContextMenu(e);return l=e.target,t?(c(h,this,e),!1):(m(),!0)}),this},e.contextMenu={defaults:function(t){e.each(t,function(t,n){"object"==typeof n&&u[t]?e.extend(u[t],n):u[t]=n})}},e(function(){e("div.contextMenu").hide().attr("aria-hidden","true")})});
//# sourceMappingURL=jquery.contextmenu-ui.js.map