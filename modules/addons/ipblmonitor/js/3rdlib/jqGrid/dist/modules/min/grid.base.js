!function(e,t){"use strict";"function"==typeof define&&define.amd?define(["jquery"],function(r){return t(r,e.document)}):"object"==typeof module&&module.exports?module.exports=function(e,r){return e||(e=window),void 0===r&&(r="undefined"!=typeof window?require("jquery"):require("jquery")(e)),t(r,e.document),r}:t(jQuery,e.document)}("undefined"!=typeof window?window:this,function($,document){"use strict";var englishLanguageDefaults={name:"English (United States)",nameEnglish:"English (United States)",isRTL:!1,defaults:{recordtext:"View {0} - {1} of {2}",emptyrecords:"No records to view",loadtext:"Loading...",pgtext:"Page {0} of {1}",pgfirst:"First Page",pglast:"Last Page",pgnext:"Next Page",pgprev:"Previous Page",pgrecs:"Records per Page",showhide:"Toggle Expand Collapse Grid",savetext:"Saving..."},search:{caption:"Search...",Find:"Find",Reset:"Reset",odata:[{oper:"eq",text:"equal"},{oper:"ne",text:"not equal"},{oper:"lt",text:"less"},{oper:"le",text:"less or equal"},{oper:"gt",text:"greater"},{oper:"ge",text:"greater or equal"},{oper:"bw",text:"begins with"},{oper:"bn",text:"does not begin with"},{oper:"in",text:"is in"},{oper:"ni",text:"is not in"},{oper:"ew",text:"ends with"},{oper:"en",text:"does not end with"},{oper:"cn",text:"contains"},{oper:"nc",text:"does not contain"},{oper:"nu",text:"is null"},{oper:"nn",text:"is not null"}],groupOps:[{op:"AND",text:"all"},{op:"OR",text:"any"}],addGroupTitle:"Add subgroup",deleteGroupTitle:"Delete group",addRuleTitle:"Add rule",deleteRuleTitle:"Delete rule",operandTitle:"Click to select search operation.",resetTitle:"Reset Search Value"},edit:{addCaption:"Add Record",editCaption:"Edit Record",bSubmit:"Submit",bCancel:"Cancel",bClose:"Close",saveData:"Data has been changed! Save changes?",bYes:"Yes",bNo:"No",bExit:"Cancel",msg:{required:"Field is required",number:"Please, enter valid number",minValue:"value must be greater than or equal to ",maxValue:"value must be less than or equal to",email:"is not a valid e-mail",integer:"Please, enter valid integer value",date:"Please, enter valid date value",url:"is not a valid URL. Prefix required ('http://' or 'https://')",nodefined:" is not defined!",novalue:" return value is required!",customarray:"Custom function should return array!",customfcheck:"Custom function should be present in case of custom checking!"}},view:{caption:"View Record",bClose:"Close"},del:{caption:"Delete",msg:"Delete selected record(s)?",bSubmit:"Delete",bCancel:"Cancel"},nav:{edittext:"",edittitle:"Edit selected row",addtext:"",addtitle:"Add new row",deltext:"",deltitle:"Delete selected row",searchtext:"",searchtitle:"Find records",refreshtext:"",refreshtitle:"Reload Grid",alertcap:"Warning",alerttext:"Please, select row",viewtext:"",viewtitle:"View selected row",savetext:"",savetitle:"Save row",canceltext:"",canceltitle:"Cancel row editing"},col:{caption:"Select columns",bSubmit:"Ok",bCancel:"Cancel"},errors:{errcap:"Error",nourl:"No url is set",norecords:"No records to process",model:"Length of colNames <> colModel!"},formatter:{integer:{thousandsSeparator:",",defaultValue:"0"},number:{decimalSeparator:".",thousandsSeparator:",",decimalPlaces:2,defaultValue:"0.00"},currency:{decimalSeparator:".",thousandsSeparator:",",decimalPlaces:2,prefix:"",suffix:"",defaultValue:"0.00"},date:{dayNames:["Sun","Mon","Tue","Wed","Thr","Fri","Sat","Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],monthNames:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec","January","February","March","April","May","June","July","August","September","October","November","December"],AmPm:["am","pm","AM","PM"],S:function(e){var t=["st","nd","rd","th"];return e<11||e>13?t[Math.min((e-1)%10,3)]:"th"},srcformat:"Y-m-d",newformat:"n/j/Y",masks:{ShortDate:"n/j/Y",LongDate:"l, F d, Y",FullDateTime:"l, F d, Y g:i:s A",MonthDay:"F d",ShortTime:"g:i A",LongTime:"g:i:s A",YearMonth:"F, Y"}}}};$.jgrid=$.jgrid||{};var jgrid=$.jgrid;jgrid.locales=jgrid.locales||{};var locales=jgrid.locales,COMPONENT_NAMES={GRID_BOX_DIV:0,GRID_OVERLAY_DIV:1,LOADING_DIV:2,DIALOG_ALERT_DIV:3,DIALOG_SEARCH_DIV:4,DIALOG_VIEW_DIV:5,DIALOG_EDIT_DIV:6,DIALOG_DELETE_DIV:7,GRID_VIEW_DIV:8,TITLE_BAR_DIV:9,UPPER_TOOLBAR_DIV:10,TOP_PAGER_DIV:11,HEADER_DIV:12,HEADER_BOX_DIV:13,HEADER_TABLE:14,HEADER_COLS_ROW:15,HEADER_COLS:16,HEADER_ROWS:47,HEADER_TH:48,HEADER_SORTABLE_DIV:49,HEADER_RESIZABLE_SPAN:50,HEADER_SELECT_ALL_ROWS_CHECKBOX:45,SEARCH_TOOLBAR:17,BODY_DIV:18,BODY_SCROLL_FULL_DIV:19,BODY_SCROLL_TOP_DIV:20,BODY_TABLE:21,GRID:21,BODY_COLS_ROW:22,BODY_COLS:23,BODY_DATA_ROWS:24,FOOTER_DIV:25,FOOTER_BOX_DIV:26,FOOTER_TABLE:27,FOOTER_DATA_ROWS:28,BOTTOM_TOOLBAR_DIV:29,FROZEN_HEADER_DIV:30,FROZEN_HEADER_TABLE:31,FROZEN_HEADER_COLS_ROW:32,FROZEN_HEADER_COLS:33,FROZEN_SEARCH_TOOLBAR:34,FROZEN_FOOTER_DIV:35,FROZEN_FOOTER_TABLE:36,FROZEN_FOOTER_DATA_ROWS:37,FROZEN_BODY_DIV:38,FROZEN_BODY_TABLE:39,FROZEN_BODY_COLS_ROW:40,FROZEN_BODY_COLS:41,FROZEN_BODY_DATA_ROWS:42,COLUMN_RESIZER_DIV:43,BOTTOM_PAGER_DIV:44,SEARCH_OPERATION_MENU_UL:46};(null==jgrid.defaults||$.isEmptyObject(locales)||void 0===locales["en-US"])&&(void 0===locales["en-US"]&&$.extend(!0,jgrid,{locales:{"en-US":englishLanguageDefaults}}),jgrid.defaults=jgrid.defaults||{},void 0===jgrid.defaults.locale&&(jgrid.defaults.locale="en-US")),jgrid.defaults=jgrid.defaults||{};var defaults=jgrid.defaults;$.extend(!0,jgrid,{version:"4.14.1-pre",productName:"free jqGrid",defaults:{},search:{},edit:{},view:{},del:{},nav:{},col:{},errors:{},formatter:{unused:""},icons:{jQueryUI:{common:"ui-icon",pager:{first:"ui-icon-seek-first",prev:"ui-icon-seek-prev",next:"ui-icon-seek-next",last:"ui-icon-seek-end"},sort:{asc:"ui-icon-triangle-1-n",desc:"ui-icon-triangle-1-s"},gridMinimize:{visible:"ui-icon-circle-triangle-n",hidden:"ui-icon-circle-triangle-s"},nav:{edit:"ui-icon-pencil",add:"ui-icon-plus",del:"ui-icon-trash",search:"ui-icon-search",refresh:"ui-icon-refresh",view:"ui-icon-document",save:"ui-icon-disk",cancel:"ui-icon-cancel",newbutton:"ui-icon-newwin"},actions:{edit:"ui-icon-pencil",del:"ui-icon-trash",save:"ui-icon-disk",cancel:"ui-icon-cancel"},form:{close:"ui-icon-closethick",prev:"ui-icon-triangle-1-w",next:"ui-icon-triangle-1-e",save:"ui-icon-disk",undo:"ui-icon-close",del:"ui-icon-scissors",cancel:"ui-icon-cancel",resizableLtr:"ui-resizable-se ui-icon ui-icon-gripsmall-diagonal-se"},search:{search:"ui-icon-search",reset:"ui-icon-arrowreturnthick-1-w",query:"ui-icon-comment"},subgrid:{plus:"ui-icon-plus",minus:"ui-icon-minus",openLtr:"ui-icon-caret-1-sw",openRtl:"ui-icon-caret-1-se"},grouping:{plus:"ui-icon-circlesmall-plus",minus:"ui-icon-circlesmall-minus"},treeGrid:{minus:"ui-icon-triangle-1-s",leaf:"ui-icon-radio-off",plusLtr:"ui-icon-triangle-1-e",plusRtl:"ui-icon-triangle-1-w"}},fontAwesome:{common:"fa",pager:{common:"fa-fw",first:"fa-step-backward",prev:"fa-backward",next:"fa-forward",last:"fa-step-forward"},sort:{common:"fa-lg",asc:"fa-sort-asc",desc:"fa-sort-desc"},gridMinimize:{visible:"fa-chevron-circle-up",hidden:"fa-chevron-circle-down"},nav:{common:"fa-lg fa-fw",edit:"fa-pencil",add:"fa-plus",del:"fa-trash-o",search:"fa-search",refresh:"fa-refresh",view:"fa-file-o",save:"fa-floppy-o",cancel:"fa-ban",newbutton:"fa-external-link"},actions:{common:"fa-fw",edit:"fa-pencil",del:"fa-trash-o",save:"fa-floppy-o",cancel:"fa-ban"},form:{close:"fa-times",prev:"fa-caret-left",next:"fa-caret-right",save:"fa-floppy-o",undo:"fa-undo",del:"fa-trash-o",cancel:"fa-ban",resizableLtr:"fa-rss fa-rotate-270"},search:{search:"fa-search",reset:"fa-undo",query:"fa-comments-o"},subgrid:{common:"fa-fw",plus:"fa-plus",minus:"fa-minus",openLtr:"fa-reply fa-rotate-180",openRtl:"fa-share fa-rotate-180"},grouping:{common:"fa-fw",plus:"fa-plus-square-o",minus:"fa-minus-square-o"},treeGrid:{common:"fa-fw",minus:"fa-lg fa-sort-desc",leaf:"fa-dot-circle-o",plusLtr:"fa-lg fa-caret-right",plusRtl:"fa-lg fa-caret-left"}},glyph:{common:"glyphicon",pager:{common:"",first:"glyphicon-step-backward",prev:"glyphicon-backward",next:"glyphicon-forward",last:"glyphicon-step-forward"},sort:{common:"",asc:"glyphicon-triangle-top",desc:"glyphicon-triangle-bottom"},gridMinimize:{visible:"glyphicon-circle-arrow-up",hidden:"glyphicon-circle-arrow-down"},nav:{common:"",edit:"glyphicon-edit",add:"glyphicon-plus",del:"glyphicon-trash",search:"glyphicon-search",refresh:"glyphicon-refresh",view:"glyphicon-file",save:"glyphicon-save",cancel:"glyphicon-ban-circle",newbutton:"glyphicon-new-window"},actions:{common:"",edit:"glyphicon-edit",del:"glyphicon-trash",save:"glyphicon-save",cancel:"glyphicon-ban-circle"},form:{close:"glyphicon-remove-circle",prev:"glyphicon-step-backward",next:"glyphicon-step-forward",save:"glyphicon-save",undo:"glyphicon-repeat",del:"glyphicon-trash",cancel:"glyphicon-ban-circle",resizableLtr:"glyphicon-import"},search:{search:"glyphicon-search",reset:"glyphicon-repeat",query:"glyphicon-cog"},subgrid:{common:"",plus:"glyphicon-zoom-in",minus:"glyphicon-zoom-out",openLtr:"glyphicon-indent-left",openRtl:"glyphicon-indent-left"},grouping:{common:"",plus:"glyphicon-expand",minus:"glyphicon-collapse-down"},treeGrid:{common:"",minus:"glyphicon-triangle-bottom",leaf:"glyphicon-record",plusLtr:"glyphicon-triangle-right",plusRtl:"glyphicon-triangle-left"}}},guiStyles:{jQueryUI:{gBox:"ui-jqgrid-jquery-ui ui-widget ui-widget-content ui-corner-all",gView:"",overlay:"ui-widget-overlay",loading:"ui-state-default ui-state-active",hDiv:"ui-state-default ui-corner-top",hTable:"",colHeaders:"ui-state-default",states:{select:"ui-state-highlight",disabled:"ui-state-disabled ui-jqgrid-disablePointerEvents",hover:"ui-state-hover",error:"ui-state-error",active:"ui-state-active",textOfClickable:"ui-state-default"},dialog:{header:"ui-widget-header ui-dialog-titlebar ui-corner-all ui-helper-clearfix",window:"ui-jqgrid-jquery-ui ui-widget ui-widget-content ui-corner-all ui-front",document:"",subdocument:"",body:"",footer:"",content:"ui-widget-content",hr:"ui-widget-content",closeButton:"ui-corner-all",fmButton:"ui-state-default",dataField:"ui-widget-content ui-corner-all",viewCellLabel:"ui-widget-content",viewLabel:"",viewCellData:"ui-widget-content",viewData:"",leftCorner:"ui-corner-left",rightCorner:"ui-corner-right",defaultCorner:"ui-corner-all"},filterToolbar:{dataField:"ui-widget-content"},subgrid:{thSubgrid:"ui-state-default",rowSubTable:"ui-widget-content",row:"ui-widget-content",tdStart:"",tdWithIcon:"ui-widget-content",buttonDiv:"",button:"",tdData:"ui-widget-content",legacyTable:""},grid:"",gridRow:"ui-widget-content",rowNum:"ui-state-default",gridFooter:"",rowFooter:"ui-widget-content",gridTitle:"ui-widget-header ui-corner-top",gridError:"ui-state-error",gridErrorText:"",titleButton:"ui-corner-all",toolbarUpper:"ui-state-default",toolbarBottom:"ui-state-default",actionsDiv:"ui-widget-content",actionsButton:"ui-corner-all",pager:{pager:"ui-state-default",pagerButton:"ui-corner-all",pagerInput:"ui-widget-content",pagerSelect:"ui-widget-content"},navButton:"ui-corner-all",searchDialog:{operator:"ui-corner-all",label:"ui-corner-all",elem:"ui-corner-all",operationGroup:"",addRuleButton:"ui-corner-all",deleteRuleButton:"ui-corner-all",operationSelect:"ui-corner-all",addGroupButton:"ui-corner-all",deleteGroupButton:"ui-corner-all"},searchToolbar:{menu:"ui-menu-jqueryui",operButton:"ui-corner-all",clearButton:"ui-corner-all"},top:"ui-corner-top",bottom:"ui-corner-bottom",resizer:"ui-widget-header"},bootstrap:{gBox:"ui-jqgrid-bootstrap",gView:"panel-info",overlay:"modal-backdrop",loading:"alert alert-info",hDiv:"",hTable:"table table-hover table-condensed table-bordered",colHeaders:"",states:{select:"success",disabled:"disabled ui-jqgrid-disablePointerEvents",hover:"active",error:"danger",active:"active",textOfClickable:""},dialog:{header:"modal-header",window:"modal ui-jqgrid-bootstrap",document:"modal-dialog",subdocument:"modal-content",body:"modal-body",footer:"modal-footer",content:"modal-content",hr:"hidden",closeButton:"btn btn-xs btn-default",fmButton:"btn btn-default",dataField:"form-control",viewCellLabel:"",viewLabel:"control-label",viewCellData:"",viewData:"form-control",leftCorner:"",rightCorner:"",defaultCorner:""},filterToolbar:{dataField:"form-control"},subgrid:{thSubgrid:"",rowSubTable:"",row:"",tdStart:"",tdWithIcon:"",buttonDiv:"",button:"btn btn-xs",tdData:"",legacyTable:"table table-condensed table-hover table-bordered"},grid:"table table-condensed table-hover table-bordered",gridRow:"",rowNum:"",gridFooter:"table table-hover table-condensed table-bordered",rowFooter:"",gridTitle:"",gridError:"alert alert-danger",gridErrorText:"sr-only",titleButton:"btn btn-xs btn-default",actionsDiv:"",actionsButton:"btn btn-xs btn-default",toolbarUpper:"",toolbarBottom:"",pager:{pager:"panel-footer",pagerButton:"btn btn-xs",pagerInput:"form-control",pagerSelect:"form-control"},navButton:"btn btn-xs",searchDialog:{operator:"form-control",label:"form-control",elem:"form-control",operationGroup:"form-inline",addRuleButton:"btn btn-xs btn-default",deleteRuleButton:"btn btn-xs btn-default",operationSelect:"form-control",addGroupButton:"btn btn-xs btn-default",deleteGroupButton:"btn btn-xs btn-default"},searchToolbar:{menu:"dropdown-menu",operButton:"btn btn-xs btn-default",clearButton:"btn btn-xs btn-default"},top:"ui-jqgrid-bootstrap-corner-top",bottom:"ui-jqgrid-bootstrap-corner-bottom",resizer:"ui-jqgrid-bootstrap"},bootstrapPrimary:{baseGuiStyle:"bootstrap",dialog:{closeButton:"btn btn-xs close",fmButton:"btn btn-primary"},searchDialog:{addRuleButton:"btn btn-xs btn-primary",deleteRuleButton:"btn btn-xs btn-primary",addGroupButton:"btn btn-xs btn-primary",deleteGroupButton:"btn btn-xs btn-primary"}},bootstrap4:{gBox:"ui-jqgrid-bootstrap",gView:"card",overlay:"modal-backdrop",loading:"alert alert-info",hDiv:"",hTable:"table table-hover table-sm table-bordered",colHeaders:"",states:{select:"table-success",disabled:"disabled ui-jqgrid-disablePointerEvents",hover:"active",error:"danger",active:"active",textOfClickable:""},dialog:{header:"modal-header",window:"modal ui-jqgrid-bootstrap",document:"modal-dialog",subdocument:"modal-content",body:"modal-body",footer:"modal-footer",content:"modal-content",hr:"hidden",closeButton:"btn btn-xs btn-secondary",fmButton:"btn btn-secondary",dataField:"form-control",viewCellLabel:"",viewLabel:"control-label",viewCellData:"",viewData:"form-control",leftCorner:"",rightCorner:"",defaultCorner:""},filterToolbar:{dataField:"form-control"},subgrid:{thSubgrid:"",rowSubTable:"",row:"",tdStart:"",tdWithIcon:"",buttonDiv:"",button:"btn btn-xs",tdData:"",legacyTable:"table table-condensed table-hover table-bordered"},grid:"table table-condensed table-hover table-bordered",gridRow:"",rowNum:"",gridFooter:"table table-hover table-condensed table-bordered",rowFooter:"",gridTitle:"",gridError:"alert alert-danger",gridErrorText:"sr-only",titleButton:"btn btn-xs btn-secondary",actionsDiv:"",actionsButton:"btn btn-xs btn-secondary",toolbarUpper:"",toolbarBottom:"",pager:{pager:"card-footer",pagerButton:"btn btn-xs",pagerInput:"form-control",pagerSelect:"form-control"},navButton:"btn btn-xs",searchDialog:{operator:"form-control",label:"form-control",elem:"form-control",operationGroup:"form-inline",addRuleButton:"btn btn-xs btn-secondary",deleteRuleButton:"btn btn-xs btn-secondary",operationSelect:"form-control",addGroupButton:"btn btn-xs btn-secondary",deleteGroupButton:"btn btn-xs btn-secondary"},searchToolbar:{menu:"dropdown-menu",operButton:"btn btn-xs btn-secondary",clearButton:"btn btn-xs btn-secondary"},top:"ui-jqgrid-bootstrap-corner-top",bottom:"ui-jqgrid-bootstrap-corner-bottom",resizer:"ui-jqgrid-bootstrap"}},htmlDecode:function(e){return e&&("&nbsp;"===e||"&#160;"===e||1===e.length&&160===e.charCodeAt(0))?"":e?String(e).replace(/&gt;/g,">").replace(/&lt;/g,"<").replace(/&#x27;/g,"'").replace(/&#x2F;/g,"/").replace(/&#39;/g,"'").replace(/&#47;/g,"/").replace(/&quot;/g,'"').replace(/&amp;/g,"&"):e},htmlEncode:function(e){return e?String(e).replace(/&/g,"&amp;").replace(/\"/g,"&quot;").replace(/\'/g,"&#39;").replace(/\//g,"&#47;").replace(/</g,"&lt;").replace(/>/g,"&gt;"):e},oldEncodePostedData:function(e){return e?String(e).replace(/&/g,"&amp;").replace(/\"/g,"&quot;").replace(/</g,"&lt;").replace(/>/g,"&gt;"):e},oldDecodePostedData:function(e){return e&&("&nbsp;"===e||"&#160;"===e||1===e.length&&160===e.charCodeAt(0))?"":e?String(e).replace(/&gt;/g,">").replace(/&lt;/g,"<").replace(/&quot;/g,'"').replace(/&amp;/g,"&"):e},clearArray:function(e){for(;e.length>0;)e.pop()},format:function(e){var t=$.makeArray(arguments).slice(1);return null==e&&(e=""),e.replace(/\{(\d+)\}/g,function(e,r){return t[r]})},template:function(e){var t,r=$.makeArray(arguments).slice(1),i=r.length;return null==e&&(e=""),e.replace(/\{([\w\-]+)(?:\:([\w\.]*)(?:\((\.*?)?\))?)?\}/g,function(e,a){var l,o;if(!isNaN(parseInt(a,10)))return r[parseInt(a,10)];for(t=0;t<i;t++)if($.isArray(r[t]))for(o=(l=r[t]).length;o--;)if(a===l[o].nm)return l[o].v})},msie:"Microsoft Internet Explorer"===navigator.appName,msiever:function(){var e=-1,t=/(MSIE) ([0-9]{1,}[.0-9]{0,})/.exec(navigator.userAgent);return null!=t&&3===t.length&&(e=parseFloat(t[2]||-1)),e},fixMaxHeightOfDiv:function(e){return"Microsoft Internet Explorer"===navigator.appName?Math.min(e,1533917):null!=/(Firefox)/.exec(navigator.userAgent)?Math.min(e,17895696):e},getRelativeRect:function(e){var t,r,i=e instanceof $&&e.length>0?e[0]:e,a=$(i).outerHeight(),l=$(this).closest(".ui-jqgrid")[0];return l?(t=null!=i.getBoundingClientRect?i.getBoundingClientRect():$(i).offset(),r=null!=l.getBoundingClientRect?l.getBoundingClientRect():$(l).offset(),{top:t.top+a-r.top,left:t.left-r.left}):{top:0,left:0}},getCellIndex:function(e){var t=$(e);return t.is("tr")?-1:(t=(t.is("td")||t.is("th")?t:t.closest("td,th"))[0],null==t?-1:jgrid.msie?$.inArray(t,t.parentNode.cells):t.cellIndex)},stripHtml:function(e){return e=String(e),e?(e=e.replace(/<("[^"]*"|'[^']*'|[^'">])*>/gi,""),e&&"&nbsp;"!==e&&"&#160;"!==e?e.replace(/\"/g,"'"):""):e},stripPref:function(e,t){var r=$.type(e);return"string"!==r&&"number"!==r||(t=""!==(e=String(e))?String(t).replace(String(e),""):t),t},getRes:function(e,t){var r,i=t.split("."),a=i.length;if(null!=e){for(r=0;r<a;r++){if(!i[r])return null;if(void 0===(e=e[i[r]]))break;if("string"==typeof e)return e}return e}},parseDate:function(e,t,r,i){var a,l,o,n=/\\.|[dDjlNSwzWFmMntLoYyaABgGhHisueIOPTZcrU]/g,s=0,d=0,c=/\b(?:[PMCEA][SDP]T|(?:Pacific|Mountain|Central|Eastern|Atlantic) (?:Standard|Daylight|Prevailing) Time|(?:GMT|UTC)(?:[\-+]\d{4})?)\b/g,u=/[^\-+\dA-Z]/g,g="string"==typeof t?t.match(/^\/Date\((([\-+])?[0-9]+)(([\-+])([0-9]{2})([0-9]{2}))?\)\/$/):null,p=function(e,t){for(e=String(e),t=parseInt(t,10)||2;e.length<t;)e="0"+e;return e},f={m:1,d:1,y:1970,h:0,i:0,s:0,u:0},h=function(e,t){return 0===e?12===t&&(t=0):12!==t&&(t+=12),t};if(void 0===(i=function(e,t){var r,i,a=["AmPm","dayNames","masks","monthNames","userLocalTime","parseRe","S","srcformat"],l=t||{},o=(jgrid.formatter||{}).date||{},n=null==e||null==e.locale?{}:((locales[e.locale]||{}).formatter||{}).date,s=a.length,d={};for(r=0;r<s;r++)void 0!==l[i=a[r]]?d[i]=l[i]:void 0!==o[i]?d[i]=o[i]:void 0!==n[i]&&(d[i]=n[i]);return d}(this.p,i)).parseRe&&(i.parseRe=/[#%\\\/:_;.,\t\s\-]/),i.masks.hasOwnProperty(e)&&(e=i.masks[e]),t&&null!=t)if(isNaN(t)||"u"!==String(e).toLowerCase())if(isNaN(t)||"u1000"!==String(e).toLowerCase())if(t.constructor===Date)s=t;else if(null!==g)s=new Date(parseInt(g[1],10)),g[3]&&(d=60*Number(g[5])+Number(g[6]),d*="-"===g[4]?1:-1,d-=s.getTimezoneOffset(),s.setTime(Number(Number(s)+60*d*1e3)));else{for("ISO8601Long"===i.srcformat&&"Z"===t.charAt(t.length-1)&&(d-=(new Date).getTimezoneOffset()),t=String(t).replace(/\T/g,"#").replace(/\t/,"%").split(i.parseRe),e=e.replace(/\T/g,"#").replace(/\t/,"%").split(i.parseRe),l=0,o=Math.min(e.length,t.length);l<o;l++){switch(e[l]){case"M":-1!==(a=$.inArray(t[l],i.monthNames))&&a<12&&(t[l]=a+1,f.m=t[l]);break;case"F":-1!==(a=$.inArray(t[l],i.monthNames,12))&&a>11&&(t[l]=a+1-12,f.m=t[l]);break;case"n":f.m=parseInt(t[l],10);break;case"j":f.d=parseInt(t[l],10);break;case"g":f.h=parseInt(t[l],10);break;case"a":-1!==(a=$.inArray(t[l],i.AmPm))&&a<2&&t[l]===i.AmPm[a]&&(t[l]=a,f.h=h(t[l],f.h));break;case"A":-1!==(a=$.inArray(t[l],i.AmPm))&&a>1&&t[l]===i.AmPm[a]&&(t[l]=a-2,f.h=h(t[l],f.h))}void 0!==t[l]&&(f[e[l].toLowerCase()]=parseInt(t[l],10))}if(f.f&&(f.m=f.f),0===f.m&&0===f.y&&0===f.d)return"&#160;";f.m=parseInt(f.m,10)-1;var m=f.y;m>=70&&m<=99?f.y=1900+f.y:m>=0&&m<=69&&(f.y=2e3+f.y),s=new Date(f.y,f.m,f.d,f.h,f.i,f.s,f.u),0!==d&&s.setTime(Number(Number(s)+60*d*1e3))}else s=new Date(parseFloat(t));else s=new Date(1e3*parseFloat(t));else s=new Date(f.y,f.m,f.d,f.h,f.i,f.s,f.u);if(i.userLocalTime&&0===d&&0!==(d-=(new Date).getTimezoneOffset())&&s.setTime(Number(Number(s)+60*d*1e3)),void 0===r)return s;if(i.masks.hasOwnProperty(r)?r=i.masks[r]:r||(r="Y-m-d"),"u1000"===r.toLowerCase())return s.getTime();var v=s.getHours(),b=s.getMinutes(),w=s.getDate(),y=s.getMonth()+1,C=s.getTimezoneOffset(),x=s.getSeconds(),j=s.getMilliseconds(),_=s.getDay(),D=s.getFullYear(),R=(_+6)%7+1,S=(new Date(D,y-1,w)-new Date(D,0,1))/864e5,N=R<5?Math.floor((S+R-1)/7)+1:Math.floor((S+R-1)/7)||((new Date(D-1,0,1).getDay()+6)%7<4?53:52),I={d:p(w),D:i.dayNames[_],j:w,l:i.dayNames[_+7],N:R,S:i.S(w),w:_,z:S,W:N,F:i.monthNames[y-1+12],m:p(y),M:i.monthNames[y-1],n:y,t:"?",L:"?",o:"?",Y:D,y:String(D).substring(2),a:v<12?i.AmPm[0]:i.AmPm[1],A:v<12?i.AmPm[2]:i.AmPm[3],B:"?",g:v%12||12,G:v,h:p(v%12||12),H:p(v),i:p(b),s:p(x),u:j,e:"?",I:"?",O:(C>0?"-":"+")+p(100*Math.floor(Math.abs(C)/60)+Math.abs(C)%60,4),P:"?",T:(String(s).match(c)||[""]).pop().replace(u,""),Z:"?",c:"?",r:"?",U:Math.floor(s/1e3)};return r.replace(n,function(e){return I.hasOwnProperty(e)?I[e]:e.substring(1)})},parseDateToNumber:function(e,t){var r=jgrid.parseDate.call(this,e,t);return r instanceof Date?r.getTime():0},jqID:function(e){return String(e).replace(/[!"#$%&'()*+,.\/:; <=>?@\[\\\]\^`{|}~]/g,"\\$&")},getGridComponentId:function(e){var t=this;if(null==t.p||!t.p.id)return"";var r=t.p.id;switch(e){case COMPONENT_NAMES.GRID:return r;case COMPONENT_NAMES.GRID_BOX_DIV:return"gbox_"+r;case COMPONENT_NAMES.GRID_VIEW_DIV:return"gview_"+r;case COMPONENT_NAMES.DIALOG_ALERT_DIV:return"alertmod_"+r;case COMPONENT_NAMES.COLUMN_RESIZER_DIV:return"rs_m"+r;case COMPONENT_NAMES.HEADER_SELECT_ALL_ROWS_CHECKBOX:return"cb_"+r;case COMPONENT_NAMES.SEARCH_OPERATION_MENU_UL:return"sopt_menu";default:return""}},getGridComponentIdSelector:function(e){var t=jgrid.getGridComponentId.call(this,e);return t?"#"+jgrid.jqID(t):""},isHTMLElement:function(e){return"object"==typeof HTMLElement||"function"==typeof HTMLElement?e instanceof HTMLElement:null!=e&&"object"==typeof e&&1===e.nodeType&&"string"==typeof e.nodeName},getGridComponent:function(e,t){var r;if(t instanceof $||t.length>0)r=t[0];else{if(!jgrid.isHTMLElement(t))return $();t=$(r=t)}switch(e){case COMPONENT_NAMES.BODY_TABLE:return t.hasClass("ui-jqgrid-bdiv")?t.children("div").children(".ui-jqgrid-btable"):$();case COMPONENT_NAMES.HEADER_TABLE:return t.hasClass("ui-jqgrid-hdiv")?t.children("div").children(".ui-jqgrid-htable"):$();case COMPONENT_NAMES.FOOTER_TABLE:return t.hasClass("ui-jqgrid-sdiv")?t.children("div").children(".ui-jqgrid-ftable"):$();case COMPONENT_NAMES.FROZEN_HEADER_TABLE:return t.hasClass("ui-jqgrid-hdiv")?t.children(".ui-jqgrid-htable"):$();case COMPONENT_NAMES.FROZEN_FOOTER_TABLE:return t.hasClass("ui-jqgrid-sdiv")?t.children(".ui-jqgrid-ftable"):$();case COMPONENT_NAMES.BODY_DIV:return t.hasClass("ui-jqgrid-btable")&&null!=r.grid?$(r.grid.bDiv):$();case COMPONENT_NAMES.HEADER_DIV:return t.hasClass("ui-jqgrid-btable")&&null!=r.grid?$(r.grid.hDiv):$();case COMPONENT_NAMES.FOOTER_DIV:return t.hasClass("ui-jqgrid-btable")&&null!=r.grid?$(r.grid.sDiv):$();default:return $()}},fixScrollOffsetAndhBoxPadding:function(){var e=this,t=e.grid;if(t){var r=e.p,i=t.bDiv,a=function(e){var t=$(e).children("div").first();t.css(t.hasClass("ui-jqgrid-hbox-rtl")?"padding-left":"padding-right",r.scrollOffset),e.scrollLeft=i.scrollLeft};$(i).width()>0&&(r.scrollOffset=i.offsetWidth-i.clientWidth,a(t.hDiv),t.sDiv&&a(t.sDiv))}},mergeCssClasses:function(){var e,t,r,i,a=$.makeArray(arguments),l={},o=[];for(e=0;e<a.length;e++)for(r=String(a[e]).replace(/[\t\r\n\f]/g," ").split(" "),t=0;t<r.length;t++)""===(i=r[t])||l.hasOwnProperty(i)||(l[i]=!0,o.push(i));return o.join(" ")},hasOneFromClasses:function(e,t){var r,i=$(e),a=String(t).replace(/[\t\r\n\f]/g," ").split(" "),l=a.length;for(r=0;r<l;r++)if(i.hasClass(a[r]))return!0;return!1},hasAllClasses:function(e,t){var r,i=$(e),a=String(t).replace(/[\t\r\n\f]/g," ").split(" "),l=a.length;for(r=0;r<l;r++)if(!i.hasClass(a[r]))return!1;return!0},detectRowEditing:function(e){return this.grid&&null!=this.p&&null!=this.p.editingInfo&&null!=this.p.editingInfo[e]?this.p.editingInfo[e]:null},getCell:function(e,t){var r,i,a=this.grid,l=this.p;return a&&l?((e instanceof $||e.length>0)&&(e=e[0]),("object"==typeof HTMLTableRowElement||"function"==typeof HTMLTableRowElement)&&e instanceof HTMLTableRowElement&&null!=e.cells?(i=$(e.cells[t]),r=a.fbRows,null!=r&&t<r[0].cells.length?i.add(r[e.rowIndex].cells[t]):i):$()):$()},getDataFieldOfCell:function(e,t){var r,i=this.p,a=jgrid.getCell.call(this,e,t);return i.treeGrid&&a.children("div.tree-wrap").length>0&&(a=a.children("span.cell-wrapperleaf,span.cell-wrapper")),i.colModel[t].autoResizable?0===(r=a.children("span."+i.autoResizing.wrapperClassName)).length&&(r=a):r=a,r},enumEditableCells:function(e,t,r){var i=this,a=i.grid,l=i.rows,o=i.p;if(null==a||null==l||null==o||null==e||null==e.rowIndex||!e.id||!$.isFunction(r))return null;var n,s,d,c,u,g,p,f,h,m,v,b=o.colModel,w=b.length,y=e.rowIndex,C=a.fbRows,x=null!=C,j=x?C[y]:null;for(x&&(e=i.rows[y]),n=0;n<w&&(s=b[n],"cb"===(d=s.name)||"subgrid"===d||"rn"===d||(x&&!s.frozen&&(x=!1),h=(x?j:e).cells[n],(m=$(h)).hasClass("not-editable-cell")||(v=m.width(),!0===o.treeGrid&&d===o.ExpandColumn?(v-=m.children("div.tree-wrap").outerWidth(),m=m.children("span.cell-wrapperleaf,span.cell-wrapper").first()):v=0,u=stripPref(o.idPrefix,e.id),c={rowid:e.id,id:u,iCol:n,iRow:y,cmName:d,cm:s,mode:t,td:h,tr:e,trFrozen:j,dataElement:m[0],dataWidth:v},"local"===o.datatype&&(p=null!=(g=o._index[u])?o.data[g]:void 0)&&(c.item=p),s.edittype||(s.edittype="text"),((o.editingInfo[e.id]||{}).editable||{}).hasOwnProperty(d)?f=o.editingInfo[e.id].editable[d]:(f=s.editable,f=$.isFunction(f)?f.call(i,c):f),!0!==f&&"hidden"!==f||(c.editable=f,!1!==r.call(i,c)))));n++);},getEditedValue:function(e,t,r,i){var a,l,o,n,s,d,c=t.formatoptions||{},u=t.editoptions||{},g=u.custom_value,p="[name="+jgrid.jqID(t.name)+"]",f=this,h=$(f);if("hidden"===i||"readonly"===i)return $(f).jqGrid("getCell",e.closest("tr.jqgrow").attr("id"),t.name);switch(t.edittype){case"checkbox":l=["Yes","No"],"string"==typeof u.value&&(l=u.value.split(":")),a=e.find("input[type=checkbox]").is(":checked")?l[0]:l[1];break;case"text":case"password":case"textarea":case"button":a=(n=e.find("input"+p+",textarea"+p)).val(),"date"===n.prop("type")&&3===String(a).split("-").length&&(o=c.newformat||h.jqGrid("getGridRes","formatter.date.newformat"),a=jgrid.parseDate.call(f,"Y-m-d",a,o));break;case"select":n=e.find("select option:selected"),u.multiple?(s=[],d=[],n.each(function(){s.push($(this).val()),d.push($(this).text())}),a=s.join(","),r.text=d.join(",")):(a=n.val(),r.text=n.text()),r.value=a;break;case"custom":try{if(!$.isFunction(g))throw"e1";if(void 0===(a=g.call(f,e.find(".customelement"),"get")))throw"e2"}catch(e){var m,v=jgrid.info_dialog,b=function(e){h.jqGrid("getGridRes",e)};switch(String(e)){case"e1":m="function 'custom_value' "+b("edit.msg.nodefined");break;case"e2":break;default:m=e.message}v&&$.isFunction(v)?v.call(f,b("errors.errcap"),m,b("edit.bClose")):($.isFunction(defaults.fatalError)?defaults.fatalError:alert)(m)}break;default:a=e.find("*"+p).text()}return a},guid:1,uidPref:"jqg",randId:function(e){return(e||jgrid.uidPref)+jgrid.guid++},getAccessor:function(e,t){var r,i,a=[];if($.isFunction(t))return t(e);if(null!=e&&e.hasOwnProperty(t))return e[t];try{if("string"==typeof t&&(a=t.split(".")),i=a.length)for(r=e;null!=r&&i--;)r=r[a.shift()]}catch(e){}return r},getXmlData:function(e,t,r){var i="string"==typeof t?t.match(/^(.*)\[(\w+)\]$/):null;if($.isFunction(t))return t(e);if(i&&i[2])return i[1]?$(i[1],e).attr(i[2]):$(e).attr(i[2]);if(void 0!==e){var a=$(e).find(t);return r?a:a.length>0?$(a).text():void 0}},cellWidth:function(){var e=$("<div class='ui-jqgrid' style='left:10000px'><div class='ui-jqgrid-view'><div class='ui-jqgrid-bdiv'><table class='ui-jqgrid-btable' style='width:5px;'><tr class='jqgrow'><td style='width:5px;display:block;'></td></tr></table></div></div></div>"),t=e.appendTo("body").find("td").width();return e.remove(),Math.abs(t-5)>.1},isCellClassHidden:function(e){if(null==e||""===e)return!1;var t=$("<div class='ui-jqgrid' style='left:10000px'><div class='ui-jqgrid-view'><div class='ui-jqgrid-bdiv'><table class='ui-jqgrid-btable' style='width:5px;'><tr class='jqgrow'><td style='width:5px;' class='"+(e||"")+"'></td></tr></table></div></div></div>"),r=t.appendTo("body").find("td").is(":hidden");return t.remove(),r},cell_width:!0,ajaxOptions:{},from:function(source){var context=this,QueryObject=function(d,q){var self=this,_data=d,_usecase=!0,_trim=!1,_query=q,_stripNum=/[\$,%]/g,_lastCommand=null,_lastField=null,_orDepth=0,_negate=!1,_queuedOperator="",_sorting=[],toString=Object.prototype.toString;if("object"!=typeof d||!d.push)throw"data provides is not an array";if(d.length>0&&"object"!=typeof d[0])throw"data items are not objects";return this._hasData=function(){return null!==_data&&0!==_data.length},this._getStr=function(e){var t=[];return _trim&&t.push("jQuery.trim("),t.push("String("+e+" || '')"),_trim&&t.push(")"),_usecase||t.push(".toUpperCase()"),t.join("")},this._strComp=function(e){return"string"==typeof e?".toString()":""},this._group=function(e,t){return{field:e.toString(),unique:t,items:[]}},this._toStr=function(e){return _trim&&(e=$.trim(e)),e=e.toString().replace(/\\/g,"\\\\").replace(/\"/g,'\\"'),_usecase?e:e.toUpperCase()},this._funcLoop=function(e){var t=[];return $.each(_data,function(r,i){t.push(e(i))}),t},this._append=function(e){var t;for(null===_query?_query="":_query+=""===_queuedOperator?" && ":_queuedOperator,t=0;t<_orDepth;t++)_query+="(";_negate&&(_query+="!"),_query+="("+e+")",_negate=!1,_queuedOperator="",_orDepth=0},this._setCommand=function(e,t){_lastCommand=e,_lastField=t},this._resetNegate=function(){_negate=!1},this._repeatCommand=function(e,t){return null===_lastCommand?self:null!==e&&null!==t?_lastCommand(e,t):null===_lastField?_lastCommand(e):_lastCommand(_lastField,e)},this._equals=function(e,t){return 0===self._compare(e,t,1)},this._compare=function(e,t,r){return void 0===r&&(r=1),void 0===e&&(e=null),void 0===t&&(t=null),null===e&&null===t?0:null===e&&null!==t?1:null!==e&&null===t?-1:"[object Date]"===toString.call(e)&&"[object Date]"===toString.call(t)?e<t?-r:e>t?r:0:(_usecase||"number"==typeof e||"number"==typeof t||(e=String(e),t=String(t)),e<t?-r:e>t?r:0)},this._performSort=function(){0!==_sorting.length&&(_data=self._doSort(_data,0))},this._doSort=function(e,t){var r=_sorting[t].by,i=_sorting[t].dir,a=_sorting[t].type,l=_sorting[t].datefmt,o=_sorting[t].sfunc;if(t===_sorting.length-1)return self._getOrder(e,r,i,a,l,o);t++;var n,s,d,c=self._getGroup(e,r,i,a,l),u=[];for(n=0;n<c.length;n++)for(d=self._doSort(c[n].items,t),s=0;s<d.length;s++)u.push(d[s]);return u},this._getOrder=function(e,t,r,i,a,l){var o,n,s,d=[],c=[],u="a"===r?1:-1;void 0===i&&(i="text"),s="float"===i||"number"===i||"currency"===i||"numeric"===i?function(e){var t=parseFloat(String(e).replace(_stripNum,""));return isNaN(t)?Number.NEGATIVE_INFINITY:t}:"int"===i||"integer"===i?function(e){return null!=e?parseFloat(String(e).replace(_stripNum,"")):Number.NEGATIVE_INFINITY}:"date"===i||"datetime"===i?function(e){return jgrid.parseDateToNumber.call(context,a,e)}:$.isFunction(i)?i:function(e){return e=null!=e?$.trim(String(e)):"",_usecase?e:e.toUpperCase()},$.each(e,function(e,r){void 0===(n=""!==t?jgrid.getAccessor(r,t):r)&&(n=""),n=s(n,r),c.push({vSort:n,data:r,index:e})}),$.isFunction(l)?c.sort(function(e,t){return l.call(context,e.vSort,t.vSort,u,e.data,t.data)}):c.sort(function(e,t){return self._compare(e.vSort,t.vSort,u)});for(var g=0,p=e.length;g<p;)o=c[g].index,d.push(e[o]),g++;return d},this._getGroup=function(e,t,r,i,a){var l=[],o=null,n=null;return $.each(self._getOrder(e,t,r,i,a),function(e,r){var i=jgrid.getAccessor(r,t);null==i&&(i=""),self._equals(n,i)||(n=i,null!==o&&l.push(o),o=self._group(t,i)),o.items.push(r)}),null!==o&&l.push(o),l},this.ignoreCase=function(){return _usecase=!1,self},this.useCase=function(){return _usecase=!0,self},this.trim=function(){return _trim=!0,self},this.noTrim=function(){return _trim=!1,self},this.execute=function(){var match=_query,results=[];return null===match?self:($.each(_data,function(){(function(){var localMath='(function (context) {\nvar yesObject = { 1: 1, x: 1, "true": 1, yes: 1, y: 1, on: 1 },noObject = { 0: 1, "false": 1, no: 1, n: 1, off: 1 },normilizeBoolean = function (v) {\nif (typeof v === "string") {\nif (noObject[v.toLowerCase()]) { return false; } else if (yesObject[v.toLowerCase()]) { return true; } }\nreturn !!v;\n},intFunc = function (jQuery, self) { return '+match+"; }; return intFunc.call(context.item, context.jQuery, context.context); }(this))";eval(localMath)&&results.push(this.item)}).call({item:this,jQuery:$,context:context})}),_data=results,self)},this.data=function(){return _data},this.select=function(e){if(self.execute(),$.isFunction(e)){var t=[];return $.each(_data,function(r,i){t.push(e(i))}),t}return self._hasData()?(self._performSort(),_data):[]},this.hasMatch=function(){return!!self._hasData()&&(self.execute(),_data.length>0)},this.andNot=function(e,t,r){return _negate=!_negate,self.and(e,t,r)},this.orNot=function(e,t,r){return _negate=!_negate,self.or(e,t,r)},this.not=function(e,t,r){return self.andNot(e,t,r)},this.and=function(e,t,r){return _queuedOperator=" && ",void 0===e?self:self._repeatCommand(e,t,r)},this.or=function(e,t,r){return _queuedOperator=" || ",void 0===e?self:self._repeatCommand(e,t,r)},this.orBegin=function(){return _orDepth++,self},this.orEnd=function(){return null!==_query&&(_query+=")"),self},this.isNot=function(e){return _negate=!_negate,self.is(e)},this.is=function(e){return self._append("this."+e),self._resetNegate(),self},this._compareValues=function(e,t,r,i,a){var l=t;void 0===r&&(r=null);var o=r,n=void 0===a.stype?"text":a.stype;if(null!==r)switch(n){case"int":case"integer":o=String(o).replace(_stripNum,""),o=isNaN(Number(o))||""===o?"0":Number(o),l="parseInt("+l+"||0,10)",o=String(parseInt(o,10));break;case"boolean":l="normilizeBoolean("+l+")",o="normilizeBoolean("+String(o)+")";break;case"float":case"number":case"currency":case"numeric":o=String(o).replace(_stripNum,""),o=isNaN(Number(o))||""===o?"0":Number(o),l="parseFloat("+l+"||0)",o=String(o);break;case"date":case"datetime":o=String(jgrid.parseDateToNumber.call(context,a.newfmt||"Y-m-d",o)),l='jQuery.jgrid.parseDateToNumber.call(self,"'+a.srcfmt+'",'+l+")";break;default:l=self._getStr(l),o=self._getStr('"'+self._toStr(o)+'"')}return self._append(l+" "+i+" "+o),self._setCommand(e,t),self._resetNegate(),self},this.equals=function(e,t,r){return self._compareValues(self.equals,e,t,"==",r)},this.notEquals=function(e,t,r){return self._compareValues(self.equals,e,t,"!==",r)},this.isNull=function(e,t,r){return self._compareValues(self.equals,e,null,"===",r)},this.greater=function(e,t,r){return self._compareValues(self.greater,e,t,">",r)},this.less=function(e,t,r){return self._compareValues(self.less,e,t,"<",r)},this.greaterOrEquals=function(e,t,r){return self._compareValues(self.greaterOrEquals,e,t,">=",r)},this.lessOrEquals=function(e,t,r){return self._compareValues(self.lessOrEquals,e,t,"<=",r)},this.startsWith=function(e,t){var r=null==t?e:t,i=_trim?$.trim(r.toString()).length:r.toString().length;return self._append(self._getStr(e)+".substr(0,"+i+") == "+self._getStr('"'+self._toStr(t)+'"')),self._setCommand(self.startsWith,e),self._resetNegate(),self},this.endsWith=function(e,t){var r=null==t?e:t,i=_trim?$.trim(r.toString()).length:r.toString().length;return self._append(self._getStr(e)+".substr("+self._getStr(e)+".length-"+i+","+i+') == "'+self._toStr(t)+'"'),self._setCommand(self.endsWith,e),self._resetNegate(),self},this.contains=function(e,t){return self._append(self._getStr(e)+'.indexOf("'+self._toStr(t)+'",0) > -1'),self._setCommand(self.contains,e),self._resetNegate(),self},this.groupBy=function(e,t,r,i){return self._hasData()?self._getGroup(_data,e,t,r,i):null},this.orderBy=function(e,t,r,i,a){return t=null==t?"a":$.trim(t.toString().toLowerCase()),null==r&&(r="text"),null==i&&(i="Y-m-d"),null==a&&(a=!1),"desc"!==t&&"descending"!==t||(t="d"),"asc"!==t&&"ascending"!==t||(t="a"),_sorting.push({by:e,dir:t,type:r,datefmt:i,sfunc:a}),self},this.inSet=function(e,t,r){var i=void 0===t?null:t,a=void 0===r.stype?"text":r.stype;return i=self._getStr('"'+self._toStr(i)+'"'),"text"!==a?self._compareValues(self.equals,e,t,"==",r):(self._append("jQuery.inArray("+self._getStr(e)+","+i+".split('"+(context.p.inFilterSeparator||",")+"')) >= 0"),self._setCommand(self.inSet,e),self._resetNegate(),self)},this.custom=function(e,t,r){return self._append("self.p.customSortOperations."+e+'.filter.call(self,{item:this,cmName:"'+t+'",iCol:self.p.iColByName["'+t+'"]>=0 ? self.p.iColByName["'+t+'"] : self.p.iPropByName["'+t+'"],isAddProp:self.p.iColByName["'+t+'"]<0,searchValue:"'+r+'"})'),self._setCommand(self.custom,t),self._resetNegate(),self},self};return new QueryObject(source,null)},serializeFeedback:function(e,t,r){var i,a=this;return a instanceof $&&a.length>0&&(a=a[0]),"string"==typeof r?r:"string"==typeof(i=$(a).triggerHandler(t,r))?i:(null!=i&&"object"==typeof i||(i=r),$.isFunction(e)?e.call(a,i):i)},fullBoolFeedback:function(e,t){var r=this,i=$.makeArray(arguments).slice(2),a=$(r).triggerHandler(t,i);if(a=!1!==a&&"stop"!==a,$.isFunction(e)){var l=e.apply(r,i);!1!==l&&"stop"!==l||(a=!1)}return a},feedback:function(e,t,r,i){var a=this;if(a instanceof $&&a.length>0&&(a=a[0]),null==e||"string"!=typeof i||i.length<2)return null;var l="on"===i.substring(0,2)?"jqGrid"+t+i.charAt(2).toUpperCase()+i.substring(3):"jqGrid"+t+i.charAt(0).toUpperCase()+i.substring(1),o=$.makeArray(arguments).slice(4),n=e[i+r];return o.unshift(l),o.unshift(n),jgrid.fullBoolFeedback.apply(a,o)},builderSortIcons:function(e){var t=this,r=t.p,i=$(t),a=i.jqGrid("getGuiStyles","states.disabled"),l=function(l){var o=r.colModel[e],n=null!=o&&$.isFunction(o.sortIconName)?o.sortIconName:r.sortIconName,s=$.isFunction(n)?n.call(t,{order:l,iCol:e,cm:o}):i.jqGrid("getIconRes","sort."+l);return jgrid.mergeCssClasses("ui-grid-ico-sort","ui-icon-"+l,"horizontal"===r.viewsortcols[1]?"ui-i-"+l:"",a,s,"ui-sort-"+r.direction)};return"<span class='s-ico"+(r.sortIconsBeforeText?" jqgrid-icons-first":"")+"' style='display:none'><span class='"+l("asc")+"'></span><span class='"+l("desc")+"'></span></span>"},builderFmButon:function(e,t,r,i,a){var l=this.p,o=$(this),n=function(e){return o.jqGrid("getGuiStyles","dialog."+e)};return null==l?"":"<a id='"+e+"' class='"+jgrid.mergeCssClasses("fm-button",n("fmButton"),n("right"===a?"rightCorner":"left"===a?"leftCorner":"defaultCorner"),"right"===i?"fm-button-icon-right":"left"===i?"fm-button-icon-left":"")+"' role='button' tabindex='0'>"+(r?"<span class='fm-button-icon "+(o.jqGrid("getIconRes",r)||r)+"'></span>":"")+(t?"<span class='fm-button-text'>"+t+"</span>":"")+"</a>"},convertOnSaveLocally:function(e,t,r,i,a,l){if(null==this.p)return e;if($.isFunction(t.convertOnSave))return t.convertOnSave.call(this,{newValue:e,cm:t,oldValue:r,id:i,item:a,iCol:l});if("boolean"!=typeof r&&"number"!=typeof r)return e;if("boolean"!=typeof r||"checkbox"!==t.edittype&&"checkbox"!==t.formatter)"number"!=typeof r||isNaN(e)||("number"===t.formatter||"currency"===t.formatter?e=parseFloat(e):"integer"===t.formatter&&(e=parseInt(e,10)));else{var o=String(e).toLowerCase(),n=null!=t.editoptions&&"string"==typeof t.editoptions.value?t.editoptions.value.split(":"):["yes","no"];$.inArray(o,["1","true",n[0].toLowerCase()])>=0?e=!0:$.inArray(o,["0","false",n[1].toLowerCase()])>=0&&(e=!1)}return e},parseDataToHtml:function(e,t,r,i,a,l,o){var n,s,d,c,u,g,p,f,h,m=this,v=m.p,b=$(m),w=!1,y=[],C=[],x=!0!==v.altRows||b.jqGrid("isBootstrapGuiStyle")?"":v.altclass,j=!!v.grouping&&!0===v.groupingView.groupCollapse,_=parseInt(v.rowNum,10),D=$.fn.jqGrid,R=!0===v.treeGrid&&v.treeANode>-1?m.rows[v.treeANode].rowIndex+1:m.rows.length,S=m.formatCol;for(R<=1&&(v.rowIndexes={}),("local"===v.datatype&&!v.deselectAfterSort||v.multiPageSelection)&&(w=!0),l&&(_*=l+1),n=0;n<Math.min(e,_);n++){for(u=t[n],g=r[n],p=null!=i?i[n]:g,d=((1===a?0:a)+n)%2==1?x:"",w?v.multiselect?(c=-1!==$.inArray(u,v.selarrrow))&&null===v.selrow&&(v.selrow=u):c=u===v.selrow:c=!1,f=y.length,y.push(""),s=0;s<v.colModel.length;s++)switch(h=v.colModel[s].name){case"rn":y.push(function(e,t,r,i){var a=(parseInt(r,10)-1)*parseInt(i,10)+1+t;return"<td role='gridcell' class='"+D.getGuiStyles.call(b,"rowNum","jqgrid-rownum")+"' "+S(e,t,a,null,t,!0)+">"+a+"</td>"}(s,n,v.page,v.rowNum));break;case"cb":y.push(function(e,t,r,i,a){var l="&nbsp;",o=!0,n={rowid:e,iRow:r,iCol:t,data:a,checked:i};return $.isFunction(v.hasMultiselectCheckBox)&&(o=v.hasMultiselectCheckBox.call(m,n)),o&&(l=$.isFunction(v.checkboxHtml)?v.checkboxHtml.call(m,n):"<input type='checkbox' id='jqg_"+v.id+"_"+e+"' class='cbox' name='jqg_"+v.id+"_"+e+"'"+(i?" checked='checked' aria-checked='true'":" aria-checked='false'")+"/>"),"<td role='gridcell' "+S(t,r,"",null,e,!0)+">"+l+"</td>"}(u,s,n,c,g));break;case"subgrid":y.push(D.addSubGridCell.call(b,s,n+a,u,g));break;default:y.push(function(e,t,r,i,a,l){var o=m.formatter(e,t,r,a,"add",l);return"<td role='gridcell' "+S(r,i,o,a,e,l)+">"+o+"</td>"}(u,g[h],s,n+a,p,g))}v.grouping&&D.groupingPrepare&&!v.groupingView._locgr&&(D.groupingPrepare.call(b,g,n),$.isFunction(v.groupingView.groupCollapse)&&(j=v.groupingView.groupCollapse.call(m,{group:v.groupingView.groups[v.groupingView.groups.length-1],rowid:u,data:g}))),y[f]=m.constructTr(u,j,d,g,p,c),y.push("</tr>"),v.rowIndexes[u]=R,R++,v.grouping&&(C.push(y),y=[]),y.length>v.maxItemsToJoin&&(y=[y.join("")])}return v.grouping&&D.groupingRender&&(o&&(v.groupingView._locgr=!0),y=[D.groupingRender.call(b,C,_)],jgrid.clearArray(C)),y},fillSelectOptions:function(e,t,r,i,a,l){var o,n,s,d,c,u,g,p,f=[],h=!1,m=function(e,t){if(t>0)return e};if(t){if("function"==typeof t&&(t=t()),"string"==typeof t)for(n=t.split(i),o=0;o<n.length;o++)(s=n[o].split(r)).length>2&&(s[1]=$.map(s,m).join(r)),f.push({value:s[0],innerHtml:s[1],selectValue:$.trim(s[0]),selectText:$.trim(s[1]),selected:!1}),""===s[0]&&(h=!0);else if("object"==typeof t)for(g in t)t.hasOwnProperty(g)&&f.push({value:g,innerHtml:t[g],selectValue:$.trim(g),selectText:$.trim(t[g]),selected:!1}),""===g&&(h=!0);if("string"==typeof l){for(p=a?$.map(l.split(","),function(e){return $.trim(e)}):[$.trim(l)],l=$.trim(l),o=0;o<f.length;o++)c=f[o],a||c.selectValue!==l||(c.selected=!0,u=!0),a&&$.inArray(c.selectValue,p)>-1&&(c.selected=!0,u=!0);if(!u)for(o=0;o<f.length;o++)c=f[o],a||c.selectText!==l||(c.selected=!0),a&&$.inArray(c.selectText,p)>-1&&(c.selected=!0)}for(o=0;o<f.length;o++)c=f[o],(d=document.createElement("option")).value=c.value,d.innerHTML=c.innerHtml,c.selected&&(d.selected=!0),e.appendChild(d);return h}},getMethod:function(e){return this.getAccessor($.fn.jqGrid,e)},extend:function(e){$.extend($.fn.jqGrid,e),this.no_legacy_api||$.fn.extend(e)}});var clearArray=jgrid.clearArray,jqID=jgrid.jqID,getGridComponentIdSelector=jgrid.getGridComponentIdSelector,getGridComponentId=jgrid.getGridComponentId,getGridComponent=jgrid.getGridComponent,stripPref=jgrid.stripPref,randId=jgrid.randId,getAccessor=jgrid.getAccessor,convertOnSaveLocally=jgrid.convertOnSaveLocally,stripHtml=jgrid.stripHtml,htmlEncode=jgrid.htmlEncode,htmlDecode=jgrid.htmlDecode,mergeCssClasses=jgrid.mergeCssClasses,hasOneFromClasses=jgrid.hasOneFromClasses,feedback=function(){var e=$.makeArray(arguments);return e.unshift(""),e.unshift(""),e.unshift(this.p),jgrid.feedback.apply(this,e)};$.fn.jqGrid=function(e){var t,r=$.fn.jqGrid;if("string"==typeof e){if(!(t=r[e]))throw"jqGrid - No such method: "+e;return t.apply(this,$.makeArray(arguments).slice(1))}return this.each(function(){if(!this.grid){var t,i,a=this,l=$(a),o=$.isFunction,n=$.isArray,s=$.extend,d=$.inArray,c=$.trim,u=$.each,g=r.setSelection,p=r.getGridRes,f=o(defaults.fatalError)?defaults.fatalError:alert,h=e.locale||defaults.locale||"en-US",m=null!=locales[h]&&"boolean"==typeof locales[h].isRTL&&locales[h].isRTL?"rtl":"ltr",v=e.iconSet||defaults.iconSet||("bootstrap"===(e.guiStyle||defaults.guiStyle)||"bootstrapPrimary"===(e.guiStyle||defaults.guiStyle)?"glyph":"jQueryUI"),b=e.guiStyle||defaults.guiStyle||"jQueryUI",w=function(e){return r.getIconRes.call(a,e)},y=function(e,t){return l.jqGrid("getGuiStyles",e,t)},C=function(e,t,r){if("abort"!==t&&"abort"!==r){var i=e.getResponseHeader("Content-Type"),a=e.responseText||"",o=function(e){try{var t,r=$.parseJSON(e),i=[];for(t in r)r.hasOwnProperty(t)&&"StackTrace"!==t&&i.push(t+": "+r[t]);e=i.join("<br />")}catch(e){}return e};"text/html"===i?a=function(e){var t,r,i,a=document.createElement("div");for(i=/<body[^>]*>([\s\S]*)<\/body\s*>/gim.exec(e),a.innerHTML=null!=i&&2===i.length?i[1]:e,r=(t=a.getElementsByTagName("script")).length;r--;)t[r].parentNode.removeChild(t[r]);e=a.innerHTML;try{""===$.trim($(e).text())&&(e="")}catch(e){}return e}(a):"application/json"===i?a=o(a):"text/plain"===i&&(a=o(a)),500!==e.status&&0!==e.status&&(a=(t||r)+(r&&r!==t?": "+r:"")+" "+e.status+" "+e.statusText+(""!==a?"<hr />":"")+a),l.jqGrid("displayErrorMessage",a||t||r)}};null==e&&(e={datatype:"local"}),void 0!==e.datastr&&n(e.datastr)&&(i=e.datastr,e.datastr=[]),void 0!==e.data&&(t=e.data,e.data=[]),null!=jgrid.formatter&&null!=jgrid.formatter.unused||f("CRITICAL ERROR!!!\n\n\nOne uses probably\n\n\t$.extend($.jgrid.defaults, {...});\n\nto set default settings of jqGrid instead of the usage the DEEP version of jQuery.extend (with true as the first parameter):\n\n\t$.extend(true, $.jgrid.defaults, {...});\n\nOne other possible reason:\n\nyou included some OLD version of language file (grid.locale-en.js for example) AFTER jquery.jqGrid.min.js. For example all language files of jqGrid 4.7.0 uses non-deep call of jQuery.extend.\n\n\nSome options of jqGrid could still work, but another one will be broken."),void 0===e.datatype&&void 0!==e.dataType&&(e.datatype=e.dataType,delete e.dataType),void 0===e.mtype&&void 0!==e.type&&(e.mtype=e.type,delete e.type),a.p={iconSet:v};var x=s(!0,{height:"auto",page:1,rowNum:20,maxRowNum:1e4,autoresizeOnLoad:!1,columnsToReResizing:[],autoResizing:{wrapperClassName:"ui-jqgrid-cell-wrapper",minColWidth:33,maxColWidth:300,adjustGridWidth:!0,compact:!1,fixWidthOnShrink:!1},doubleClickSensitivity:250,minResizingWidth:10,rowTotal:null,records:0,pager:"",pgbuttons:!0,pginput:!0,colModel:[],additionalProperties:[],arrayReader:[],rowList:[],colNames:[],sortorder:"asc",threeStateSort:!1,sortname:"",mtype:"GET",altRows:!1,selarrrow:[],savedRow:[],editingInfo:{},shrinkToFit:!0,xmlReader:{},subGrid:!1,subGridModel:[],reccount:0,lastpage:0,lastsort:0,selrow:null,singleSelectClickMode:"toggle",beforeSelectRow:null,onSelectRow:null,onSortCol:null,ondblClickRow:null,onRightClickRow:null,onPaging:null,onSelectAll:null,onInitGrid:null,loadComplete:null,gridComplete:null,loadError:C,loadBeforeSend:null,afterInsertRow:null,beforeRequest:null,beforeProcessing:null,onHeaderClick:null,viewrecords:!1,loadonce:!1,forceClientSorting:!1,multiselect:!1,multikey:!1,editurl:"clientArray",search:!1,caption:"",hidegrid:!0,hiddengrid:!1,useUnformattedDataForCellAttr:!0,postData:{},userData:{},treeGrid:!1,treeGridModel:"nested",treeReader:{},treeANode:-1,ExpandColumn:null,tree_root_level:0,prmNames:{page:"page",rows:"rows",sort:"sidx",order:"sord",search:"_search",filters:"filters",nd:"nd",id:"id",idold:"idOld",oper:"oper",editoper:"edit",addoper:"add",deloper:"del",subgridid:"id",npage:null,totalrows:"totalrows"},forceFit:!1,gridstate:"visible",cellEdit:!1,iCol:-1,iRow:-1,nv:0,loadui:"enable",toolbar:[!1,""],scroll:!1,multiboxonly:!1,deselectAfterSort:!0,multiPageSelection:!1,scrollrows:!1,autowidth:!1,scrollOffset:18,cellLayout:5,subGridWidth:16,multiselectWidth:16,multiselectPosition:"left",gridview:!0,rownumWidth:25,rownumbers:!1,pagerpos:"center",footerrow:!1,userDataOnFooter:!1,hoverrows:!0,altclass:"ui-priority-secondary",viewsortcols:[!1,"vertical",!0],resizeclass:"",autoencode:!1,autoEncodeOnEdit:!1,remapColumns:[],cmNamesInputOrder:[],ajaxGridOptions:{},direction:m,toppager:!1,headertitles:!1,scrollTimeout:40,maxItemsToJoin:32768,data:[],lastSelectedData:[],quickEmpty:"quickest",_index:{},indexByColumnData:{},dataIndexById:{},iColByName:{},iPropByName:{},reservedColumnNames:["rn","cb","subgrid"],grouping:!1,groupingView:{groupField:[],groupOrder:[],groupText:[],groupColumnShow:[],groupSummary:[],showSummaryOnHide:!1,useDefaultValuesOnGrouping:!0,summary:[],displayField:[],groupSummaryPos:[],formatDisplayField:[],_locgr:!1,commonIconClass:w("grouping.common"),plusicon:w("grouping.plus"),minusicon:w("grouping.minus")},ignoreCase:!0,cmTemplate:{},idPrefix:"",iconSet:v,guiStyle:b,locale:h,multiSort:!1,treeIcons:{commonIconClass:w("treeGrid.common"),plusLtr:w("treeGrid.plusLtr"),plusRtl:w("treeGrid.plusRtl"),minus:w("treeGrid.minus"),leaf:w("treeGrid.leaf")}},defaults,{navOptions:s(!0,{commonIconClass:w("nav.common"),editicon:w("nav.edit"),addicon:w("nav.add"),delicon:w("nav.del"),searchicon:w("nav.search"),refreshicon:w("nav.refresh"),viewicon:w("nav.view"),saveicon:w("nav.save"),cancelicon:w("nav.cancel"),buttonicon:w("nav.newbutton")},jgrid.nav||{}),actionsNavOptions:s(!0,{commonIconClass:w("actions.common"),editicon:w("actions.edit"),delicon:w("actions.del"),saveicon:w("actions.save"),cancelicon:w("actions.cancel")},jgrid.actionsNav||{}),formEditing:s(!0,{commonIconClass:w("form.common"),prevIcon:w("form.prev"),nextIcon:w("form.next"),saveicon:[!0,"left",w("form.save")],closeicon:[!0,"left",w("form.undo")]},jgrid.edit||{}),searching:s(!0,{commonIconClass:w("search.common"),findDialogIcon:w("search.search"),resetDialogIcon:w("search.reset"),queryDialogIcon:w("search.query")},jgrid.search||{}),formViewing:s(!0,{commonIconClass:w("form.common"),prevIcon:w("form.prev"),nextIcon:w("form.next"),closeicon:[!0,"left",w("form.cancel")]},jgrid.view||{}),formDeleting:s(!0,{commonIconClass:w("form.common"),delicon:[!0,"left",w("form.del")],cancelicon:[!0,"left",w("form.cancel")]},jgrid.del||{})},e||{}),j=function(e){return p.call(l,e)},_=function(e){var t=jgrid.getRes(x,e);return void 0!==t?t:p.call(l,"defaults."+e)};if(x.recordpos=x.recordpos||("rtl"===x.direction?"left":"right"),x.autoResizing.widthOfVisiblePartOfSortIcon=void 0!==x.autoResizing.widthOfVisiblePartOfSortIcon?x.autoResizing.widthOfVisiblePartOfSortIcon:"fontAwesome"===x.iconSet?13:12,x.datatype=void 0!==x.datatype?x.datatype:void 0!==t||null==x.url?"local":null!=x.jsonReader&&"object"==typeof x.jsonReader?"json":"xml",x.jsonReader=x.jsonReader||{},x.url=x.url||"",x.cellsubmit=void 0!==x.cellsubmit?x.cellsubmit:void 0===x.cellurl?"clientArray":"remote",x.gridview=void 0!==x.gridview?x.gridview:null==x.afterInsertRow,void 0!==t&&(x.data=t,e.data=t),void 0!==i&&(x.datastr=i,e.datastr=i),"TABLE"===a.tagName.toUpperCase())if(""===a.id&&l.attr("id",randId()),void 0!==document.documentMode&&document.documentMode<=5)f("Grid can not be used in this ('quirks') mode!");else{l.empty().attr("tabindex","0"),a.p=x,x.id=a.id,x.idSel="#"+jqID(a.id),x.gBoxId=getGridComponentId.call(a,COMPONENT_NAMES.GRID_BOX_DIV),x.gBox=getGridComponentIdSelector.call(a,COMPONENT_NAMES.GRID_BOX_DIV),x.gViewId=getGridComponentId.call(a,COMPONENT_NAMES.GRID_VIEW_DIV),x.gView=getGridComponentIdSelector.call(a,COMPONENT_NAMES.GRID_VIEW_DIV),x.rsId=getGridComponentId.call(a,COMPONENT_NAMES.COLUMN_RESIZER_DIV),x.rs=getGridComponentIdSelector.call(a,COMPONENT_NAMES.COLUMN_RESIZER_DIV),x.cbId=getGridComponentId.call(a,COMPONENT_NAMES.HEADER_SELECT_ALL_ROWS_CHECKBOX),x.cb=getGridComponentIdSelector.call(a,COMPONENT_NAMES.HEADER_SELECT_ALL_ROWS_CHECKBOX);var D=jgrid.fixScrollOffsetAndhBoxPadding,R=function(e){var t,r={},i=e.length;for(t=0;t<i;t++)r[e[t].name]=t;return r},S=function(){var e,t,r={},i=x.colModel,a=i.length;for(e=0;e<a;e++)((t=i[e]).createColumnIndex||x.createColumnIndex&&!1!==t.createColumnIndex||"select"===t.stype&&(t.searchoptions||{}).generateValue||"select"===t.edittype&&(t.editoptions||{}).generateValue)&&(r[i[e].name]={});return r},N=function(e){var t,r,i={},a=e.length;for(t=0;t<a;t++)i["string"==typeof(r=e[t])?r:r.name]=t;return i},I=function(){var e,t,r={};for(this.p.rowIndexes=r,t=0;t<this.rows.length;t++)e=this.rows[t],$(e).hasClass("jqgrow")&&(r[e.id]=e.rowIndex)},O=function(e){var t=$(this).data("pageX");t?(t=(t=String(t).split(";"))[t.length-1],$(this).data("pageX",t+";"+e.pageX)):$(this).data("pageX",e.pageX)},E=function(e,t){return e=parseInt(e,10),isNaN(e)?t||0:e},q={headers:[],cols:[],footers:[],dragStart:function(e,t,r,i){var a=this,l=$(a.bDiv),o=l.closest(x.gBox).offset(),n=i.offset().left+("rtl"===x.direction?0:a.headers[e].width+(jgrid.cell_width?0:E(x.cellLayout,0))-2);a.resizing={idx:e,startX:n,sOL:n,moved:!1,delta:n-t.pageX},a.curGbox=$(x.rs),a.curGbox.prependTo("body"),a.curGbox.css({display:"block",left:n,top:r[1]+o.top+1,height:r[2]}),a.curGbox.css("height",r[2]-(a.curGbox.outerHeight()-a.curGbox.height())+"px"),a.curGbox.data("idx",e),a.curGbox.data("delta",n-t.pageX),O.call(this.curGbox,t),feedback.call(getGridComponent(COMPONENT_NAMES.BODY_TABLE,l)[0],"resizeStart",t,e),document.onselectstart=function(){return!1},$(document).on("mousemove.jqGrid",function(e){if(q.resizing)return q.dragMove(e),!1}).on("mouseup.jqGrid"+x.id,function(){if(q.resizing)return q.dragEnd(),!1})},dragMove:function(e){var t=this,r=t.resizing;if(r){var i,a,l=e.pageX+r.delta-r.startX,o=t.headers,n=o[r.idx],s="ltr"===x.direction?n.width+l:n.width-l,d=((x.colModel[r.idx]||{}).autoResizing||{}).minColWidth||x.minResizingWidth;r.moved=!0,s>d&&(null==t.curGbox&&(t.curGbox=$(x.rs)),t.curGbox.css({left:r.sOL+l}),!0===x.forceFit?(i=o[r.idx+x.nv],(a="ltr"===x.direction?i.width-l:i.width+l)>x.autoResizing.minColWidth&&(n.newWidth=s,i.newWidth=a)):(t.newWidth="ltr"===x.direction?x.tblwidth+l:x.tblwidth-l,n.newWidth=s))}},resizeColumn:function(e,t,i){var a,l=this,o=l.headers,n=l.footers,s=o[e],d=s.newWidth||s.width,c=getGridComponent(COMPONENT_NAMES.BODY_TABLE,l.bDiv),u=getGridComponent(COMPONENT_NAMES.HEADER_TABLE,l.hDiv).children("thead").children("tr").first()[0].cells;d=parseInt(d,10),x.colModel[e].width=d,s.width=d,u[e].style.width=d+"px",l.cols[e].style.width=d+"px",l.fbRows&&($(l.fbRows[0].cells[e]).css("width",d),$(getGridComponent(COMPONENT_NAMES.FROZEN_HEADER_TABLE,l.fhDiv)[0].rows[0].cells[e]).css("width",d),x.footerrow&&$(getGridComponent(COMPONENT_NAMES.FROZEN_FOOTER_TABLE,l.fsDiv)[0].rows[0].cells[e]).css("width",d)),n.length>0&&(n[e].style.width=d+"px"),!0!==i&&D.call(c[0]),!0===x.forceFit?(d=(a=o[e+x.nv]).newWidth||a.width,a.width=d,u[e+x.nv].style.width=d+"px",l.cols[e+x.nv].style.width=d+"px",n.length>0&&(n[e+x.nv].style.width=d+"px"),x.colModel[e+x.nv].width=d):(x.tblwidth=l.newWidth||x.tblwidth,!0!==i&&(l.hDiv.scrollLeft=l.bDiv.scrollLeft,x.footerrow&&(l.sDiv.scrollLeft=l.bDiv.scrollLeft))),x.autowidth||void 0!==x.widthOrg&&"auto"!==x.widthOrg&&"100%"!==x.widthOrg||!0===i||r.setGridWidth.call(c,l.newWidth+x.scrollOffset,!1),t||feedback.call(c[0],"resizeStop",d,e)},dragEnd:function(){var e=this;e.hDiv.style.cursor="default",e.resizing&&(null!==e.resizing&&!0===e.resizing.moved&&($(e.headers[e.resizing.idx].el).removeData("autoResized"),e.resizeColumn(e.resizing.idx,!1)),$(x.rs).removeData("pageX"),e.resizing=!1,setTimeout(function(){$(x.rs).css("display","none").prependTo(x.gBox)},x.doubleClickSensitivity)),e.curGbox=null,document.onselectstart=function(){return!0},$(document).off("mousemove.jqGrid mouseup.jqGrid"+x.id)},populateVisible:function(){var e=this,t=$(e),r=e.grid,i=r.bDiv,a=$(i);r.timer&&clearTimeout(r.timer),r.timer=null;var l=a.height();if(l){var o,n;if(e.rows.length)try{o=e.rows[1],n=o?$(o).outerHeight()||r.prevRowHeight:r.prevRowHeight}catch(e){n=r.prevRowHeight}if(n){r.prevRowHeight=n;var s=x.rowNum;r.scrollTop=i.scrollTop;var d,c,u,g=r.scrollTop,p=Math.round(t.position().top)-g,f=p+t.height(),h=n*s;if(f<l&&p<=0&&(void 0===x.lastpage||(parseInt((f+g+h-1)/h,10)||0)<=x.lastpage)&&(c=parseInt((l-f+h-1)/h,10)||1,f>=0||c<2||!0===x.scroll?(d=(Math.round((f+g)/h)||0)+1,p=-1):p=1),p>0&&(d=(parseInt(g/h,10)||0)+1,c=(parseInt((g+l)/h,10)||0)+2-d,u=!0),c){if(x.lastpage&&(d>x.lastpage||1===x.lastpage||d===x.page&&d===x.lastpage))return;r.hDiv.loading?r.timer=setTimeout(function(){r.populateVisible.call(e)},x.scrollTimeout):(x.page=d,u&&(r.selectionPreserver.call(e),r.emptyRows.call(e,!1,!1)),r.populate.call(e,c))}}}},scrollGrid:function(){if(x.scroll){var e=this.scrollTop;void 0===q.scrollTop&&(q.scrollTop=0),e!==q.scrollTop&&(q.scrollTop=e,q.timer&&clearTimeout(q.timer),q.timer=setTimeout(function(){q.populateVisible.call(a)},x.scrollTimeout))}return q.hDiv.scrollLeft=this.scrollLeft,x.footerrow&&(q.sDiv.scrollLeft=this.scrollLeft),!1},selectionPreserver:function(){var e=this,t=$(e),r=x.selrow,i=x.selarrrow?$.makeArray(x.selarrrow):null,a=e.grid.bDiv,l=a.scrollLeft,o=function(){var e;if(x.selrow=null,!x.multiPageSelection){if(clearArray(x.selarrrow),x.multiselect&&i&&i.length>0)for(e=0;e<i.length;e++)i[e]!==r&&g.call(t,i[e],!1,null);r&&g.call(t,r,!1,null)}a.scrollLeft=l,t.off(".selectionPreserver",o)};t.on("jqGridGridComplete.selectionPreserver",o)}};a.grid=q,feedback.call(a,"beforeInitGrid"),x.iColByName=R(x.colModel),x.iPropByName=N(x.additionalProperties);var A,T=$("<div class='"+y("gView","ui-jqgrid-view")+"' role='grid' aria-multiselectable='"+!!x.multiselect+"'></div>"),k=jgrid.msie;x.direction=c(x.direction.toLowerCase()),-1===d(x.direction,["ltr","rtl"])&&(x.direction="ltr"),A=x.direction,$(T).insertBefore(a),l.removeClass("scroll").appendTo(T);var G=$("<div class='"+y("gBox","ui-jqgrid")+"'></div>");$(G).attr({id:x.gBoxId,dir:A}).insertBefore(T),$(T).attr("id",x.gViewId).appendTo(G),$("<div class='"+y("overlay","jqgrid-overlay")+"' id='lui_"+x.id+"'></div>").insertBefore(T),$("<div class='"+y("loading","loading")+"' id='load_"+x.id+"'>"+_("loadtext")+"</div>").insertBefore(T),l.attr({role:"presentation","aria-labelledby":"gbox_"+a.id});var B,M=["shiftKey","altKey","ctrlKey"],P=function(e){return stripPref(x.idPrefix,e)},L=function(e,t,r,i,l,n){var s,d,c,u,g,p,f,h=x.colModel[e],m=r,v=h.classes,b=h.align?"text-align:"+h.align+";":"",w=function(e){return"string"==typeof e?e.replace(/\'/g,"&#39;"):e},y=" aria-describedby='"+x.id+"_"+h.name+"'";if(!0===h.hidden&&(b+="display:none;"),0===t)b+="width: "+q.headers[e].width+"px;";else if((o(h.cellattr)||"string"==typeof h.cellattr&&null!=jgrid.cellattr&&o(jgrid.cellattr[h.cellattr]))&&(s=o(h.cellattr)?h.cellattr:jgrid.cellattr[h.cellattr],x.useUnformattedDataForCellAttr&&null!=n?m=n[h.name]:h.autoResizable&&(d="<span class='"+x.autoResizing.wrapperClassName+"'>",m=r.substring(d.length,r.length-"</span>".length)),"string"==typeof(u=s.call(a,l,m,i,h,n))))for(u=u.replace(/\n/g,"&#xA;");;){if(null===(g=/^\s*(\w+[\w|\-]*)\s*=\s*([\"|\'])(.*?)\2(.*)/.exec(u))||g.length<5)return!f&&h.title&&(f=m),y+" style='"+w(b)+"'"+(v?" class='"+w(v)+"'":"")+(f?" title='"+w(f)+"'":"");switch(p=g[3],u=g[4],g[1].toLowerCase()){case"class":v?v+=" "+p:v=p;break;case"title":f=p;break;case"style":b+=p;break;default:y+=" "+g[1]+"="+g[2]+p+g[2]}}return c=""!==b?"style='"+b+"'":"",c+=(void 0!==v?" class='"+v+"'":"")+(h.title&&m?" title='"+stripHtml(r).replace(/\'/g,"&apos;")+"'":""),c+=y},F=function(e){return null==e||""===e?"&#160;":x.autoencode?htmlEncode(e):String(e)},z=function(e){var t=x.treeReader,r=t.loaded,i=t.leaf_field,a=t.expanded_field,l=function(e){return!0===e||"true"===e||"1"===e};if("nested"===x.treeGridModel&&!e[i]){var o=parseInt(e[t.left_field],10),n=parseInt(e[t.right_field],10);e[i]=n===o+1}void 0!==e[r]&&(e[r]=l(e[r])),e[i]=l(e[i]),e[a]=l(e[a])},H=function(e,t,r,i,l,n){var s,d=x.colModel[r];if(void 0!==d.formatter){var c={rowId:e=""!==String(x.idPrefix)?P(e):e,colModel:d,gid:x.id,pos:r,rowData:n||i};s=o(d.cellBuilder)?d.cellBuilder.call(a,t,c,i,l):o(d.formatter)?d.formatter.call(a,t,c,i,l):$.fmatter?$.fn.fmatter.call(a,d.formatter,t,c,i,l):F(t)}else s=F(t);if(s=d.autoResizable&&"actions"!==d.formatter?"<span class='"+x.autoResizing.wrapperClassName+"'>"+s+"</span>":s,x.treeGrid&&"edit"!==l&&(null==x.ExpandColumn&&0===r||x.ExpandColumn===d.name)){null==n&&(n=x.data[x._index[e]]);var u=parseInt(n[x.treeReader.level_field]||0,10),g=0===parseInt(x.tree_root_level,10)?u:u-1,p=n[x.treeReader.leaf_field],f=n[x.treeReader.expanded_field],h=n[x.treeReader.icon_field],m=p?(null!=h&&""!==h?h:x.treeIcons.leaf)+" tree-leaf":f?x.treeIcons.minus+" tree-minus":x.treeIcons.plus+" tree-plus";s="<div class='tree-wrap' style='width:"+18*(g+1)+"px;'><div class='"+mergeCssClasses(x.treeIcons.commonIconClass,m,"treeclick")+"' style='"+(!0===x.ExpandColClick?"cursor:pointer;":"")+("rtl"===x.direction?"margin-right:":"margin-left:")+18*g+"px;'></div></div><span class='cell-wrapper"+(p?"leaf":"")+"'"+(x.ExpandColClick?" style='cursor:pointer;'":"")+">"+s+"</span>"}return s},V=function(e,t){var r=this,i=q.bDiv,a=null!=q.fbDiv?q.fbDiv.children(".ui-jqgrid-btable")[0]:null,l=function(e){if(e){var t=e.rows,r=t[0];if(x.deepempty)t&&$(t).slice(1).remove();else if(x.quickEmpty)if("quickest"===x.quickEmpty)e.replaceChild(document.createElement("tbody"),e.tBodies[0]),e.firstChild.appendChild(r);else for(;t.length>1;)e.deleteRow(t.length-1);else $(e.firstChild).empty().append(r)}};$(r).off(".jqGridFormatter"),l(r),l(a),e&&x.scroll&&($(i.firstChild).css({height:"auto"}),$(i.firstChild.firstChild).css({height:0,display:"none"}),0!==i.scrollTop&&(i.scrollTop=0)),!0===t&&x.treeGrid&&(clearArray(x.data),clearArray(x.lastSelectedData),x._index={},x.dataIndexById={},x.indexByColumnData={}),x.rowIndexes={},x.iRow=-1,x.iCol=-1},W=function(e,t){var r,i;for(r in x.indexByColumnData)x.indexByColumnData.hasOwnProperty(r)&&(i=e[r],e.hasOwnProperty(r)&&void 0!==i&&""!==i&&(x.ignoreCase&&(i=String(i).toLowerCase()),void 0===x.indexByColumnData[r][i]&&(x.indexByColumnData[r][i]={}),x.indexByColumnData[r][i][t]=e[r],void 0===x.dataIndexById[t]&&(x.dataIndexById[t]={}),void 0===x.dataIndexById[t][r]&&(x.dataIndexById[t][r]={}),x.dataIndexById[t][r][i]=x.indexByColumnData[r][i]))},U=function(e){var t,r,i,a=x.dataIndexById[e];if(null!=a){for(t in a)if(a.hasOwnProperty(t)){r=a[t];for(i in r)r.hasOwnProperty(i)&&(delete x.indexByColumnData[t][i][e],$.isEmptyObject(x.indexByColumnData[t][i])&&delete x.indexByColumnData[t][i])}delete x.dataIndexById[e]}},X=function(){var e,t,r,i,l,d,c,u,g,p,f,h,m=x.data,v=m.length,b=x.localReader,w=x.additionalProperties,y=b.cell,C=x.arrayReaderInfos;if("local"===x.datatype&&!0===b.repeatitems)for(i=!1===x.keyName?o(b.id)?b.id.call(a,m):b.id:x.keyName,isNaN(i)?o(i)||null!=x.arrayReaderInfos[i]&&(l=x.arrayReaderInfos[i].order):l=Number(i),e=0;e<v;e++){t=m[e],r=y?getAccessor(t,y)||t:t,p=n(r),c={};for(g in C)C.hasOwnProperty(g)&&(h=C[g],d=getAccessor(r,p?h.order:h.name),1===h.type&&null!=(f=w[h.index])&&o(f.convert)&&(d=f.convert(d,r)),void 0!==d&&(c[g]=d));void 0!==c[i]?u=void 0!==c[i]?c[i]:randId():(void 0===(u=getAccessor(t,n(t)?l:i))&&(u=getAccessor(r,n(r)?l:i)),void 0===u&&(u=randId())),u=String(u),c[b.id]=u,x.treeGrid&&z(c),s(m[e],c)}else if(x.treeGrid)for(e=0;e<v;e++)z(m[e])},Y=function(){var e,t,r,i,a=x.data.length;for(e=!1===x.keyName||x.loadonce?x.localReader.id:x.keyName,x._index={},x.dataIndexById={},x.indexByColumnData=S(),t=0;t<a;t++)i=x.data[t],void 0===(r=getAccessor(i,e))&&(r=String(randId()),void 0===i[e]&&(i[e]=r)),x._index[r]=t,W.call(this,i,r)},Z=function(e,t,i,a,l,n){var s,d="-1",c="",u=t?"display:none;":"",g=this,p=y("gridRow","jqgrow ui-row-"+x.direction)+(i?" "+i:"")+(n?" "+y("states.select"):""),f=$(g).triggerHandler("jqGridRowAttr",[a,l,e]);if("object"!=typeof f&&(f=o(x.rowattr)?x.rowattr.call(g,a,l,e):"string"==typeof x.rowattr&&null!=jgrid.rowattr&&o(jgrid.rowattr[x.rowattr])?jgrid.rowattr[x.rowattr].call(g,a,l,e):{}),null!=f&&!$.isEmptyObject(f)){f.hasOwnProperty("id")&&(e=f.id,delete f.id),f.hasOwnProperty("tabindex")&&(d=f.tabindex,delete f.tabindex),f.hasOwnProperty("style")&&(u+=f.style,delete f.style),f.hasOwnProperty("class")&&(p+=" "+f.class,delete f.class);try{delete f.role}catch(e){}for(s in f)f.hasOwnProperty(s)&&(c+=" "+s+"="+f[s])}if(x.treeGrid&&parseInt(a[x.treeReader.level_field],10)!==parseInt(x.tree_root_level,10)){var h=r.getNodeParent.call($(this),a);!h||!h.hasOwnProperty(x.treeReader.expanded_field)||h[x.treeReader.expanded_field]||t||(u+="display:none;")}return"<tr role='row' id='"+e+"' tabindex='"+d+"' class='"+p+"'"+(""===u?"":" style='"+u+"'")+c+">"},Q=function(){var e,t,r=$.fn.fmatter;for(e=0;e<x.colModel.length;e++)"string"==typeof(t=x.colModel[e].formatter)&&null!=r&&o(r[t])&&o(r[t].pageFinalization)&&r[t].pageFinalization.call(this,e)},K=function(e,t){var r,i,l,n=x.colModel,s=n.length,d=function(e){return null==e||""===e?"&#160;":htmlEncode(e)},c=function(e){return null==e||""===e?"&#160;":String(e)};for(r=0;r<s;r++)(i=n[r]).cellBuilder=null,e||(l={colModel:i,gid:x.id,pos:r},void 0===i.formatter?i.cellBuilder=x.autoencode?d:c:"string"==typeof i.formatter&&null!=$.fn.fmatter&&o($.fn.fmatter.getCellBuilder)?i.cellBuilder=$.fn.fmatter.getCellBuilder.call(a,i.formatter,l,t||"add"):o(i.getCellBuilder)&&(i.cellBuilder=i.getCellBuilder.call(a,l,t||"add")))},J=function(e,t,i,a){var l=this,s=$(l),d=new Date,c=x.datatype,u="local"!==c&&x.loadonce||"xmlstring"===c||"jsonstring"===c,g=("xmlstring"===c||"xml"===c)&&$.isXMLDoc(e),p=x.localReader,f=getAccessor;if(e&&("xml"!==c||g)){switch(-1!==x.treeANode||x.scroll?t=t>1?t:1:(q.emptyRows.call(l,!1,!0),t=1),u&&(clearArray(x.data),clearArray(x.lastSelectedData),x._index={},x.grouping&&null!=x.groupingView&&(x.groupingView.groups=[],x.groupingView._locgr=!1),x.localReader.id="_id_"),x.reccount=0,c){case"xml":case"xmlstring":p=x.xmlReader,f=jgrid.getXmlData;break;case"json":case"jsonp":case"jsonstring":p=x.jsonReader}var h,m,v,b,w,y,C,j,_,D,R,S,N,O={},A=x.colModel,T=A.length,k=x.arrayReaderInfos,G={},B=function(e){return function(t){var r=null!=t&&o(t.getAttribute)?t.getAttribute(e):null;return null!==r?r:void 0}},M=function(e){return function(){var t,r=G[e];if(null!=r)return t=r.childNodes,t.length>0?t[0].nodeValue:void 0}};x.page=E(f(e,p.page),x.page),x.lastpage=E(f(e,p.total),1),x.records=E(f(e,p.records)),o(p.userdata)?x.userData=p.userdata.call(l,e)||{}:g?f(e,p.userdata,!0).each(function(){x.userData[this.getAttribute("name")]=$(this).text()}):x.userData=f(e,p.userdata)||{},K();var P,L,F,H,V={},U=x.additionalProperties,X=function(e,t){g&&"string"==typeof t&&(/^\w+$/.test(t)?V[e]=M(t):/^\[\w+\]$/.test(t)&&(V[e]=B(t.substring(1,t.length-1))))},Y=function(e){var t=e.name,r=g?e.xmlmap||t:"local"===c&&!x.dataTypeOrg||"jsonstring"===c||"json"===c||"jsonp"===c?e.jsonmap||t:t;!1!==x.keyName&&!0===e.key&&(x.keyName=t),("string"==typeof r||o(r))&&(V[t]=r),o(r)||X(t,r)};for(h=0;h<T;h++)Y(A[h]);for(T=U.length,h=0;h<T;h++)"object"==typeof(F=U[h])&&null!=F?Y(F):X(F,F);if(w=!1===x.keyName?o(p.id)?p.id.call(l,e):p.id:x.keyName,isNaN(w)?o(w)||(k[w]&&(y=k[w].order),g&&("string"==typeof w&&/^\[\w+\]$/.test(w)?w=B(w.substring(1,w.length-1)):"string"==typeof w&&/^\w+$/.test(w)&&(w=M(w)))):y=Number(w),b=f(e,p.root,!0),p.row)if(1===b.length&&"string"==typeof p.row&&/^\w+$/.test(p.row)){for(H=[],R=(D=b[0].childNodes).length,_=0;_<R;_++)1===(S=D[_]).nodeType&&S.nodeName===p.row&&H.push(S);b=H}else b=f(b,p.row,!0);null==b&&n(e)&&(b=e),b||(b=[]),(v=b.length)>0&&x.page<=0&&(x.page=1);var Z=parseInt(x.rowNum,10);a&&(Z*=a+1);var J,ee,te=[],re=[];for(H=[],h=0;h<v;h++){if(ee=b[h],m=p.repeatitems&&p.cell?f(ee,p.cell,!0)||ee:ee,P=p.repeatitems&&(g||n(m)),O={},G={},g&&!P&&null!=m)for(R=(D=m.childNodes).length,_=0;_<R;_++)1===(S=D[_]).nodeType&&(G[S.nodeName]=S);for(j in k)k.hasOwnProperty(j)&&(N=k[j],P?(L=m[N.order],g&&null!=L&&(L=L.textContent||L.text)):L=null!=V[j]&&"string"!=typeof V[j]?V[j].call(l,m,{cmName:j,iItem:h}):f(m,"string"==typeof V[j]?V[j]:N.name),1===N.type&&null!=(F=U[N.index])&&o(F.convert)&&(L=F.convert(L,m)),void 0!==L&&(O[j]=L));if(void 0!==O[w]?J=void 0!==O[w]?O[w]:randId():(void 0===(J=f(ee,n(ee)?y:w))&&(J=f(m,n(m)?y:w)),void 0===J&&(J=randId())),void 0===O[w]&&(O[w]=J),J=String(J),C=x.idPrefix+J,x.treeGrid&&z(O),h<Z)re.push(C),te.push(m),H.push(O);else if(!u)break;(u||!0===x.treeGrid)&&(O._id_=J,x.data.push(O),W(O,J),x._index[O._id_]=x.data.length-1)}if(u&&!0!==x.treeGrid){if(x.forceClientSorting)return;x.lastSelectedData=x.data.slice()}var ie=jgrid.parseDataToHtml.call(l,v,re,H,te,t,a,u);K(!0);var ae=x.treeANode>-1?x.treeANode:0,le=$(l.tBodies[0]);if(!0===x.treeGrid&&ae>0?$(l.rows[ae]).after(ie.join("")):x.scroll?le.append(ie.join("")):null==l.firstElementChild||void 0!==document.documentMode&&document.documentMode<=9?(le.html(le.html()+ie.join("")),l.grid.cols=l.rows[0].cells):(l.firstElementChild.innerHTML+=ie.join(""),l.grid.cols=l.rows[0].cells),x.grouping&&I.call(l),!0===x.subGrid)try{r.addSubGrid.call(s,x.iColByName.subgrid)}catch(e){}if(!1===x.gridview||o(x.afterInsertRow))for(h=0;h<Math.min(v,Z);h++)feedback.call(l,"afterInsertRow",re[h],H[h],te[h]);if(x.totaltime=new Date-d,h>0&&0===x.records&&(x.records=v),clearArray(ie),!0===x.treeGrid)try{r.setTreeNode.call(s,ae+1,h+ae+1)}catch(e){}x.reccount=Math.min(v,Z),x.treeANode=-1,x.userDataOnFooter&&r.footerData.call(s,"set",x.userData,!0),u&&(x.records=v,x.lastpage=Math.ceil(v/Z)),i||l.updatepager(!1,!0),Q.call(l)}},ee=function(){function e(t){var r,i,a,l,n,d,c,u=0;if(null!=t.groups){for((i=t.groups.length&&"OR"===t.groupOp.toString().toUpperCase())&&y.orBegin(),r=0;r<t.groups.length;r++){u>0&&i&&y.or();try{e(t.groups[r])}catch(e){f(e)}u++}i&&y.orEnd()}if(null!=t.rules)try{for((a=t.rules.length&&"OR"===t.groupOp.toString().toUpperCase())&&y.orBegin(),r=0;r<t.rules.length;r++)n=t.rules[r],l=t.groupOp.toString().toUpperCase(),w[n.op]&&n.field?(u>0&&l&&"OR"===l&&(y=y.or()),null!=(c=s[n.field])&&(d=c.reader,y=w[n.op](y,l)(o(d)?'jQuery.jgrid.getAccessor(this,jQuery("'+x.idSel+'")[0].p.colModel['+c.iCol+"].jsonmap)":"jQuery.jgrid.getAccessor(this,'"+d+"')",n.data,s[n.field]))):null!=x.customSortOperations&&null!=x.customSortOperations[n.op]&&o(x.customSortOperations[n.op].filter)&&(y=y.custom(n.op,n.field,n.data)),u++;a&&y.orEnd()}catch(e){f(e)}}var t=$(this),i=x.multiSort?[]:"",a={},l=!1,s={},d=[],c=[],g=j("formatter.date.srcformat"),p=j("formatter.date.newformat");if(!n(x.data))return{};x.multiSort&&se(i,a);var h,m,v=!!x.grouping&&x.groupingView,b=function(e,t,r){var a,o,n=e.index||e.name,u=e.sorttype||"text";if(s[e.name]={reader:x.dataTypeOrg?e.name:e.jsonmap||e.name,iCol:t,stype:u,srcfmt:"",newfmt:"",sfunc:e.sortfunc||null,isAddProp:!0===r},"date"!==u&&"datetime"!==u||(e.formatter&&"string"==typeof e.formatter&&"date"===e.formatter?(a=e.formatoptions&&e.formatoptions.srcformat?e.formatoptions.srcformat:g,o=e.formatoptions&&e.formatoptions.newformat?e.formatoptions.newformat:p):a=o=e.datefmt||"Y-m-d",s[e.name].srcfmt=a,s[e.name].newfmt=o),x.grouping)for(m=0,h=v.groupField.length;m<h;m++)e.name===v.groupField[m]&&(d[m]=s[n],c[m]=n);x.multiSort||l||e.index!==x.sortname&&e.name!==x.sortname||(i=e.name,l=!0)};if(u(x.colModel,function(e){b(this,e)}),u(x.additionalProperties,function(e){b("string"==typeof this?{name:this}:this,e,!0)}),x.treeGrid)return r.SortTree.call(t,i,x.sortorder,null!=s[i]&&s[i].stype?s[i].stype:"text",null!=s[i]&&s[i].srcfmt?s[i].srcfmt:""),!1;var w={eq:function(e){return e.equals},ne:function(e){return e.notEquals},lt:function(e){return e.less},le:function(e){return e.lessOrEquals},gt:function(e){return e.greater},ge:function(e){return e.greaterOrEquals},cn:function(e){return e.contains},nc:function(e,t){return"OR"===t?e.orNot().contains:e.andNot().contains},bw:function(e){return e.startsWith},bn:function(e,t){return"OR"===t?e.orNot().startsWith:e.andNot().startsWith},en:function(e,t){return"OR"===t?e.orNot().endsWith:e.andNot().endsWith},ew:function(e){return e.endsWith},ni:function(e,t){return"OR"===t?e.orNot().inSet:e.andNot().inSet},in:function(e){return e.inSet},nu:function(e){return e.isNull},nn:function(e,t){return"OR"===t?e.orNot().isNull:e.andNot().isNull}},y=jgrid.from.call(this,x.data);if(x.ignoreCase&&(y=y.ignoreCase()),!0===x.search){var C=x.postData[(x.searching||{}).sFilter||x.prmNames.filters];if(C)"string"==typeof C&&(C=$.parseJSON(C)),e(C);else try{var _=s[x.postData.searchField];y=w[x.postData.searchOper](y)(o(_.reader)?'jQuery.jgrid.getAccessor(this,jQuery("'+x.idSel+'")[0].p.colModel['+_.iCol+"].jsonmap)":"jQuery.jgrid.getAccessor(this,'"+_.reader+"')",x.postData.searchString,s[x.postData.searchField])}catch(e){}}if(x.grouping)for(m=0;m<h&&m<c.length&&m<d.length;m++)y.orderBy(c[m],v.groupOrder[m],d[m].stype,d[m].srcfmt);x.multiSort?u(i,function(){y.orderBy(this,a[this],s[this].stype,s[this].srcfmt,s[this].sfunc)}):i&&x.sortorder&&l&&y.orderBy(x.sortname,"DESC"===x.sortorder.toUpperCase()?"d":"a",s[i].stype,s[i].srcfmt,s[i].sfunc),x.lastSelectedData=y.select();var D=parseInt(x.rowNum,10),R=x.lastSelectedData.length,S=parseInt(x.page,10),N=Math.ceil(R/D),I={};if(x.grouping&&x.groupingView._locgr){x.groupingView.groups=[];var O,E,q;if(x.footerrow&&x.userDataOnFooter){for(E in x.userData)x.userData.hasOwnProperty(E)&&(x.userData[E]=0);q=!0}for(O=0;O<R;O++){if(q)for(E in x.userData)x.userData.hasOwnProperty(E)&&(x.userData[E]+=parseFloat(x.lastSelectedData[O][E]||0));r.groupingPrepare.call(t,x.lastSelectedData[O],O,D)}}y=null,s=null;var A=x.localReader;return I[A.total]=N,I[A.page]=S,I[A.records]=R,I[A.root]=x.lastSelectedData.slice((S-1)*D,S*D),I[A.userdata]=x.userData,I},te=function(e){var t,r=this,i=e.outerWidth();return i<=0&&(t=$(r).closest(".ui-jqgrid>.ui-jqgrid-view").css("font-size")||"11px",$(document.body).append("<div id='testpg' class='"+y("gBox","ui-jqgrid")+"' style='font-size:"+t+";visibility:hidden;margin:0;padding:0;' ></div>"),$(e).clone().appendTo("#testpg"),i=$("#testpg>.ui-pg-table").width(),$("#testpg").remove()),i>0&&e.parent().width(i),i},re=function(e,t){var r,i,a,l,o,n,s,d,c=this,u=$(c),g=c.grid,p=x.pager||"",f=x.pager?"_"+x.pager.substr(1):"",h=g.bDiv,m=$.fmatter?$.fmatter.NumberFormat:null,v=x.toppager?"_"+x.toppager.substr(1):"",b=y("states.hover"),w=y("states.disabled");if((a=parseInt(x.page,10)-1)<0&&(a=0),a*=parseInt(x.rowNum,10),o=a+x.reccount,x.scroll){var C=$(getGridComponent(COMPONENT_NAMES.BODY_TABLE,h)[0].rows).slice(1);a=o-C.length,x.reccount=C.length;var D=C.outerHeight()||g.prevRowHeight;if(D){var R=a*D,S=jgrid.fixMaxHeightOfDiv.call(c,parseInt(x.records,10)*D);$(h).children("div").first().css({height:S+"px"}).children("div").first().css({height:R+"px",display:""}),0===h.scrollTop&&x.page>1&&(h.scrollTop=x.rowNum*(x.page-1)*D)}h.scrollLeft=g.hDiv.scrollLeft}if(p+=x.toppager?(p?",":"")+x.toppager:""){if(s=j("formatter.integer")||{},r=E(x.page),i=E(x.lastpage),$(".selbox",p).prop("disabled",!1),!0===x.pginput){var N=$(".ui-pg-input",p),I=String(x.page).length;N.val(x.page),N.each(function(){var e=parseInt($(this).attr("size"),10);e>0&&e<I&&$(this).attr("size",I)}),d=x.toppager?"#sp_1"+f+",#sp_1"+v:"#sp_1"+f,$(d).html($.fmatter?m(x.lastpage,s):x.lastpage).closest(".ui-pg-table").each(function(){te.call(c,$(this))})}x.viewrecords&&(0===x.reccount?$(".ui-paging-info",p).html(_("emptyrecords")):(l=a+1,n=x.records,$.fmatter&&(l=m(l,s),o=m(o,s),n=m(n,s)),$(".ui-paging-info",p).html(jgrid.format(_("recordtext"),l,o,n)))),!0===x.pgbuttons&&(i<=0&&(r=0),r<=0&&(r=i=0),1===r||0===r?($("#first"+f+", #prev"+f).addClass(w).removeClass(b),x.toppager&&$("#first_t"+v+", #prev_t"+v).addClass(w).removeClass(b)):($("#first"+f+", #prev"+f).removeClass(w),x.toppager&&$("#first_t"+v+", #prev_t"+v).removeClass(w)),r===i||0===r?($("#next"+f+", #last"+f).addClass(w).removeClass(b),x.toppager&&$("#next_t"+v+", #last_t"+v).addClass(w).removeClass(b)):($("#next"+f+", #last"+f).removeClass(w),x.toppager&&$("#next_t"+v+", #last_t"+v).removeClass(w)))}!0===e&&!0===x.rownumbers&&$(">td.jqgrid-rownum",c.rows).each(function(e){$(this).html(a+1+e)}),t&&x.jqgdnd&&u.jqGrid("gridDnD","updateDnD"),feedback.call(c,"gridComplete"),u.triggerHandler("jqGridAfterGridComplete")},ie=function(){var e=this;e.grid.hDiv.loading=!0,x.hiddengrid||r.progressBar.call($(e),{method:"show",loadtype:x.loadui,htmlcontent:_("loadtext")})},ae=function(){var e=this;e.grid.hDiv.loading=!1,r.progressBar.call($(e),{method:"hide",loadtype:x.loadui})},le=function(e){var t=this,i=$(t),l=t.grid;if(!l.hDiv.loading){var n,d,c=x.scroll&&!1===e,u={},g=x.prmNames;x.page<=0&&(x.page=Math.min(1,x.lastpage)),null!==g.search&&(u[g.search]=x.search),null!==g.nd&&(u[g.nd]=(new Date).getTime()),(isNaN(parseInt(x.rowNum,10))||parseInt(x.rowNum,10)<=0)&&(x.rowNum=x.maxRowNum),null!==g.rows&&(u[g.rows]=x.rowNum),null!==g.page&&(u[g.page]=x.page),null!==g.sort&&(u[g.sort]=x.sortname),null!==g.order&&(u[g.order]=x.sortorder),null!==x.rowTotal&&null!==g.totalrows&&(u[g.totalrows]=x.rowTotal);var p=o(x.loadComplete),f=p?x.loadComplete:null,h=0;if(e=e||1,e>1?null!==g.npage?(u[g.npage]=e,h=e-1,e=1):f=function(r){x.page++,l.hDiv.loading=!1,p&&x.loadComplete.call(t,r),le.call(t,e-1)}:null!==g.npage&&delete x.postData[g.npage],x.grouping&&r.groupingSetup){r.groupingSetup.call(i);var m,v,b,w,y=x.groupingView,C="";for(m=0;m<y.groupField.length;m++){for(v=y.groupField[m],b=0;b<x.colModel.length;b++)(w=x.colModel[b]).name===v&&w.index&&(v=w.index);C+=v+" "+y.groupOrder[m]+", "}u[g.sort]=C+u[g.sort]}s(x.postData,u);var j=x.scroll?t.rows.length-1:1,_=function(){D.call(t),x.autowidth||void 0!==x.widthOrg&&"auto"!==x.widthOrg&&"100%"!==x.widthOrg||r.setGridWidth.call(i,x.tblwidth+x.scrollOffset,!1)},R=function(){var e;if(x.autoresizeOnLoad)r.autoResizeAllColumns.call(i),clearArray(x.columnsToReResizing),x.autowidth&&r.setGridWidth.call(i,i.closest(".ui-jqgrid").parent().width(),!0);else{for(e=0;e<x.columnsToReResizing.length;e++)r.autoResizeColumn.call(i,x.columnsToReResizing[e]);clearArray(x.columnsToReResizing)}},S=function(){feedback.call(t,"loadComplete",d),R(),i.triggerHandler("jqGridAfterLoadComplete",[d]),ae.call(t),x.datatype="local",x.datastr=null,_()},N=function(r){i.triggerHandler("jqGridLoadComplete",[r]),f&&f.call(t,r),R(),i.triggerHandler("jqGridAfterLoadComplete",[r]),c&&l.populateVisible.call(t),1===e&&ae.call(t),_()},I=function(){var r=ee.call(t);J.call(t,r,j,e>1,h),N(r)};if(!feedback.call(t,"beforeRequest"))return;if(o(x.datatype))return void x.datatype.call(t,x.postData,"load_"+x.id,j,e,h);switch(n=x.datatype.toLowerCase(),$(q.eDiv).hide(),n){case"json":case"jsonp":case"xml":case"script":$.ajax(s({url:x.url,type:x.mtype,dataType:n,data:jgrid.serializeFeedback.call(a,x.serializeGridData,"jqGridSerializeGridData",x.postData),success:function(r,i,a){x.jqXhr=null,$(q.eDiv).hide(),o(x.beforeProcessing)&&!1===x.beforeProcessing.call(t,r,i,a)?ae.call(t):(J.call(t,r,j,e>1,h),N(r),(x.loadonce||x.treeGrid)&&(x.dataTypeOrg=x.datatype,x.datatype="local",x.forceClientSorting&&I()))},error:function(r,i,a){x.jqXhr=null,o(x.loadError)&&x.loadError.call(t,r,i,a),1===e&&ae.call(t)},beforeSend:function(e,r){var i=!0;if(o(x.loadBeforeSend)&&(i=x.loadBeforeSend.call(t,e,r)),void 0===i&&(i=!0),!1===i)return!1;x.jqXhr=e,ie.call(t)}},jgrid.ajaxOptions,x.ajaxGridOptions));break;case"xmlstring":ie.call(t),d="string"==typeof x.datastr?$.parseXML(x.datastr):x.datastr,J.call(t,d),S(),x.forceClientSorting&&I();break;case"jsonstring":ie.call(t),d=x.datastr&&"string"==typeof x.datastr?$.parseJSON(x.datastr):x.datastr,J.call(t,d),S(),x.forceClientSorting&&I();break;case"local":case"clientside":ie.call(t),x.datatype="local",I()}}},oe=function(e){var t=this.grid;$(x.cb,t.hDiv).prop("checked",e),x.frozenColumns&&$(x.cb,t.fhDiv).prop("checked",e)},ne=function(e,t){var r,i,l,o,n,s,d=y("states.hover"),c=y("states.disabled"),u="<td class='ui-pg-button "+c+"'><span class='ui-separator'></span></td>",g="",p="<table style='table-layout:auto;white-space: pre;"+("left"===x.pagerpos?"margin-right:auto;":"right"===x.pagerpos?"margin-left:auto;":"margin-left:auto;margin-right:auto;")+"' class='ui-pg-table'><tbody><tr>",f="",h=function(e,t,r){return!!feedback.call(a,"onPaging",e,{newPage:t,currentPage:E(x.page,1),lastPage:E(x.lastpage,1),currentRowNum:E(x.rowNum,10),newRowNum:r})&&(x.selrow=null,x.multiselect&&(x.multiPageSelection||clearArray(x.selarrrow),oe.call(a,!1)),clearArray(x.savedRow),x.editingInfo={},!0)};if(t+="_"+e,r="pg_"+e,i=e+"_left",l=e+"_center",o=e+"_right",$("#"+jqID(e)).append("<div id='"+r+"' class='ui-pager-control' role='group'><table class='ui-pg-table' style='width:100%;table-layout:fixed;height:100%;'><tbody><tr><td id='"+i+"' class='ui-jqgrid-pg-left'"+(void 0!==x.pagerLeftWidth?" style='width:"+x.pagerLeftWidth+"px;'":"")+"></td><td id='"+l+"' class='ui-jqgrid-pg-center'"+(void 0!==x.pagerCenterWidth?" style='width:"+x.pagerCenterWidth+"px;'":"")+"></td><td id='"+o+"' class='ui-jqgrid-pg-right'"+(void 0!==x.pagerRightWidth?" style='width:"+x.pagerRightWidth+"px;'":"")+"></td></tr></tbody></table></div>").attr("dir","ltr"),r="#"+jqID(r),x.rowList.length>0){f="<td dir='"+A+"'>";var m=_("pgrecs");f+="<select class='"+y("pager.pagerSelect","ui-pg-selbox")+"' "+(m?"title='"+m+"'":"")+">";var v;for(s=0;s<x.rowList.length;s++)1===(v=x.rowList[s].toString().split(":")).length&&(v[1]=v[0]),f+="<option value='"+v[0]+"'"+(E(x.rowNum,0)===E(v[0],0)?" selected='selected'":"")+">"+v[1]+"</option>";f+="</select></td>"}if("rtl"===A&&(p+=f),!0===x.pginput&&(g="<td dir='"+A+"'>"+jgrid.format(_("pgtext")||"","<input aria-label='Page No.' class='"+y("pager.pagerInput","ui-pg-input")+"' type='text' size='2' maxlength='7' value='0'/>","<span id='sp_1_"+e+"'>0</span>")+"</td>"),e="#"+jqID(e),!0===x.pgbuttons){var b=["first","prev","next","last"],C=b.slice(),j=y("pager.pagerButton","ui-pg-button");for("rtl"===A&&b.reverse(),s=0;s<b.length;s++)p+=function(e,r){var i=_("pg"+e);return"<td role='button' tabindex='0' id='"+e+t+"' class='"+j+"' "+(i?"title='"+i+"'":"")+"><span class='"+w("pager."+r)+"'></span></td>"}(b[s],C[s]),1===s&&(p+=""!==g?u+g+u:"")}else""!==g&&(p+=g);"ltr"===A&&(p+=f),p+="</tr></tbody></table>",!0===x.viewrecords&&$("td"+e+"_"+x.recordpos,r).append("<span dir='"+A+"' style='text-align:"+x.recordpos+"' class='ui-paging-info'></span>");var D=$("td"+e+"_"+x.pagerpos,r);D.append(p),n=te.call(this,D.children(".ui-pg-table")),x._nvtd=[],x._nvtd[0]=n?Math.floor((x.width-n)/2):Math.floor(x.width/3),x._nvtd[1]=0,p=null,$(".ui-pg-selbox",r).on("change",function(){var e=E(this.value,10),t=Math.round(x.rowNum*(x.page-1)/e-.5)+1;return!!h("records",t,e)&&(x.page=t,x.rowNum=e,x.pager&&$(".ui-pg-selbox",x.pager).val(e),x.toppager&&$(".ui-pg-selbox",x.toppager).val(e),le.call(a),!1)}),!0===x.pgbuttons&&($(".ui-pg-button",r).hover(function(){hasOneFromClasses(this,c)?this.style.cursor="default":($(this).addClass(d),this.style.cursor="pointer")},function(){hasOneFromClasses(this,c)||($(this).removeClass(d),this.style.cursor="default")}),$("#first"+jqID(t)+", #prev"+jqID(t)+", #next"+jqID(t)+", #last"+jqID(t)).click(function(){if(hasOneFromClasses(this,c))return!1;var e=E(x.page,1),r=e,i=this.id,l=E(x.lastpage,1),o=!1,n=!0,s=!0,d=!0,u=!0;return 0===l||1===l?(e<=1&&(n=!1,s=!1),d=!1,u=!1):l>1&&e>=1?1===e?(n=!1,s=!1):e===l&&(d=!1,u=!1):l>1&&0===e&&(d=!1,u=!1,e=l-1),this.id==="first"+t&&n&&(i="first",r=1,o=!0),this.id==="prev"+t&&s&&(i="prev",r=e-1,o=!0),this.id==="next"+t&&d&&(i="next",r=e+1,o=!0),this.id==="last"+t&&u&&(i="last",r=l,o=!0),!!h(i,r,E(x.rowNum,10))&&(x.page=r,o&&le.call(a),!1)})),!0===x.pginput&&$("input.ui-pg-input",r).on("keypress.jqGrid",function(e){var t=e.charCode||e.keyCode||0,r=E($(this).val(),1);return 13===t?!!h("user",r,E(x.rowNum,10))&&($(this).val(r),x.page=$(this).val()>0?$(this).val():x.page,le.call(a),!1):this}),D.children(".ui-pg-table").on("keydown.jqGrid",function(e){var t;13===e.which&&(t=D.find(":focus")).length>0&&t.trigger("click")})},se=function(e,t,r){if(u((x.sortname+" "+x.sortorder).split(","),function(){var t=$.trim(this).split(" ");2===t.length&&e.push(t[0])}),null!=r){var i=$.inArray(r.index||r.name,e);""!==r.lso&&i<0?e.push(r.index||r.name):""===r.lso&&i>=0&&e.splice(i,1)}u(x.colModel,function(){var r,i=this.index||this.name;this.lso&&(r=this.lso.split("-"),$.inArray(i,e)<0&&e.push(i),t[i]=r[r.length-1])})},de=function(e,t){var r,i="",l=x.colModel[e],o=y("states.disabled"),n=$(x.frozenColumns?t:a.grid.headers[e].el),s=n.find("span.s-ico"),d=s.children("span.ui-icon-asc"),c=s.children("span.ui-icon-desc"),g=d,p=c,f=[],h={};n.find("span.ui-grid-ico-sort").addClass(o),n.attr("aria-selected","false"),l.lso?(s.show(),"desc"===(r=(r=l.lso.split("-"))[r.length-1])&&(g=c,p=d),g.removeClass(o).css("display",""),x.showOneSortIcon&&p.hide(),n.attr("aria-selected","true")):x.viewsortcols[0]||s.hide(),se(f,h,l),u(f,function(){i.length>0&&(i+=", "),i+=this+" "+h[this],x.sortorder=h[this]}),x.sortname=i.substring(0,i.length-x.sortorder.length-1)},ce=function(e,t,i,a,l){var o=this,n=o.grid,s=x.colModel[t],d=y("states.disabled");if(null!=s&&s.sortable&&!(x.savedRow.length>0)){if(i||(x.lastsort===t&&""!==x.sortname?("asc"===x.sortorder?x.sortorder="desc":"desc"===x.sortorder?x.sortorder="asc":x.sortorder=s.firstsortorder||"asc",s.lso?"asc"===s.lso?s.lso+="-desc":"desc"===s.lso?s.lso+="-asc":"asc-desc"!==s.lso&&"desc-asc"!==s.lso||!x.threeStateSort&&!x.multiSort||(s.lso=""):s.lso=s.firstsortorder||"asc"):s.lso=x.sortorder=s.firstsortorder||"asc",x.page=1),x.multiSort)de(t,l);else{if(a){if(x.lastsort===t&&x.sortorder===a&&!i)return;x.sortorder=a}var c=n.headers,u=n.fhDiv,g=c[x.lastsort]?$(c[x.lastsort].el):$(),p=$(x.frozenColumns?l:c[t].el),f=p.find("span.s-ico"),h=f.children("span.ui-icon-"+x.sortorder),m=f.children("span.ui-icon-"+("asc"===x.sortorder?"desc":"asc"));s=x.colModel[x.lastsort],g.find("span.ui-grid-ico-sort").addClass(d),g.attr("aria-selected","false"),x.frozenColumns&&(u.find("span.ui-grid-ico-sort").addClass(d),u.find("th").attr("aria-selected","false")),x.viewsortcols[0]||(x.lastsort!==t?(x.frozenColumns&&u.find("span.s-ico").hide(),g.find("span.s-ico").hide(),f.show()):""===x.sortname&&f.show()),x.lastsort!==t&&"true"===g.data("autoResized")&&(null!=s&&null!=s.autoResizing&&s.autoResizing.compact||x.autoResizing.compact)&&x.columnsToReResizing.push(x.lastsort),s=x.colModel[t],f.css("display",""),""!==s.lso?(h.removeClass(d).css("display",""),x.showOneSortIcon&&m.removeClass(d).hide(),p.attr("aria-selected","true")):(p.attr("aria-selected","false"),x.threeStateSort&&(x.sortorder="",x.viewsortcols[0]||f.hide())),x.lastsort!==t&&"true"===p.data("autoResized")&&(null!=s&&null!=s.autoResizing&&s.autoResizing.compact||x.autoResizing.compact)&&x.columnsToReResizing.push(t),e=e.substring(5+x.id.length+1),x.sortname=s.index||e}if(feedback.call(o,"onSortCol",x.sortname,t,x.sortorder)){if("local"===x.datatype?x.deselectAfterSort&&!x.multiPageSelection&&r.resetSelection.call($(o)):x.multiPageSelection||(x.selrow=null,x.multiselect&&(oe.call(o,!1),clearArray(x.selarrrow))),clearArray(x.savedRow),x.editingInfo={},x.scroll){var v=n.bDiv.scrollLeft;q.emptyRows.call(o,!0,!1),n.hDiv.scrollLeft=v}x.subGrid&&"local"===x.datatype&&$("td.sgexpanded","#"+jqID(x.id)).each(function(){$(this).trigger("click")}),le.call(o),x.lastsort=t,x.sortname!==e&&t&&(x.lastsort=t)}else x.lastsort=t}},ue=function(e){var t,r=e,i=e;for(t=e+1;t<x.colModel.length;t++)if(!0!==x.colModel[t].hidden){i=t;break}return i-r},ge=function(e){return x.iColByName[(e.id||"").substring(x.id.length+1)]};-1===d(x.multikey,M)&&(x.multikey=!1),x.keyName=!1,x.sortorder=x.sortorder.toLowerCase(),jgrid.cell_width=jgrid.cellWidth();var pe,fe,he=jgrid.cmTemplate;for(pe=0;pe<x.colModel.length;pe++)B="string"==typeof(fe=x.colModel[pe]).template?null==he||"object"!=typeof he[fe.template]&&!$.isFunction(he[fe.template])?{}:he[fe.template]:fe.template,o(B)&&(B=B.call(a,{cm:fe,iCol:pe})),fe=s(!0,{},x.cmTemplate,B||{},fe),!1===x.keyName&&!0===fe.key&&(x.keyName=fe.name),x.colModel[pe]=fe;for(x.indexByColumnData=S(),pe=0;pe<x.additionalProperties.length;pe++)fe=x.additionalProperties[pe],!1===x.keyName&&!0===fe.key&&(x.keyName=fe.name);if(0===x.colNames.length)for(pe=0;pe<x.colModel.length;pe++)x.colNames[pe]=void 0!==x.colModel[pe].label?x.colModel[pe].label:x.colModel[pe].name;if(x.colNames.length===x.colModel.length){if(!0===x.grouping&&(x.scroll=!1,x.rownumbers=!1,x.treeGrid=!1,x.gridview=!0),x.subGrid&&o(r.setSubGrid))try{r.setSubGrid.call(l)}catch(e){}if(x.multiselect&&("left"===x.multiselectPosition||"right"===x.multiselectPosition)){var me="left"===x.multiselectPosition?"unshift":"push";x.colNames[me]("<input id='"+x.cbId+"' class='cbox' type='checkbox' aria-checked='false'/>"),x.colModel[me]({name:"cb",width:jgrid.cell_width?x.multiselectWidth+x.cellLayout:x.multiselectWidth,labelClasses:"jqgh_cbox",classes:"td_cbox",sortable:!1,resizable:!1,hidedlg:!0,search:!1,align:"center",fixed:!0,frozen:!0})}if(x.rownumbers&&(x.colNames.unshift(""),x.colModel.unshift({name:"rn",width:jgrid.cell_width?x.rownumWidth+x.cellLayout:x.rownumWidth,labelClasses:"jqgh_rn",sortable:!1,resizable:!1,hidedlg:!0,search:!1,align:"center",fixed:!0,frozen:!0})),x.iColByName=R(x.colModel),x.xmlReader=s(!0,{root:"rows",row:"row",page:"rows>page",total:"rows>total",records:"rows>records",repeatitems:!0,cell:"cell",id:"[id]",userdata:"userdata",subgrid:{root:"rows",row:"row",repeatitems:!0,cell:"cell"}},x.xmlReader),x.jsonReader=s(!0,{root:"rows",page:"page",total:"total",records:"records",repeatitems:!0,cell:"cell",id:"id",userdata:"userdata",subgrid:{root:"rows",repeatitems:!0,cell:"cell"}},x.jsonReader),x.localReader=s(!0,{root:"rows",page:"page",total:"total",records:"records",repeatitems:!1,cell:"cell",id:"id",userdata:"userdata",subgrid:{root:"rows",repeatitems:!0,cell:"cell"}},x.localReader),x.scroll&&(x.pgbuttons=!1,x.pginput=!1,x.rowList=[]),!0===x.treeGrid){try{r.setTreeGrid.call(l)}catch(e){}"local"!==x.datatype&&(x.localReader={id:"_id_"}),x.iPropByName=N(x.additionalProperties)}if(function(){var e,t,r,i=x.remapColumns,a=x.colModel,l=a.length,o=[];for(e=0;e<l;e++)r=a[e].name,d(r,x.reservedColumnNames)<0&&o.push(r);if(null!=i)for(t=o.slice(),e=0;e<i.length;e++)o[e]=t[i[e]];x.cmNamesInputOrder=o}(),function(){var e,t,r,i,a,l=x.colModel,o=x.cmNamesInputOrder,n=x.additionalProperties,s=o.length;for(x.arrayReaderInfos={},t=x.arrayReaderInfos,a=0;a<s;a++)r=o[a],d(r,x.reservedColumnNames)<0&&!t.hasOwnProperty(r)&&(void 0!==(i=x.iColByName[r])?t[r]={name:r,index:i,order:a,type:0}:void 0!==(i=x.iPropByName[r])?t[r]={name:r,index:i,order:a,type:1}:r===(x.prmNames.rowidName||"rowid")&&(t[r]={index:i,type:2}));for(s=l.length,e=0;e<s;e++)r=l[e].name,d(r,x.reservedColumnNames)<0&&!t.hasOwnProperty(r)&&(t[r]={name:r,index:e,order:a,type:0},a++);for(s=n.length,e=0;e<s;e++)null==(r=n[e])||t.hasOwnProperty(r)||("object"==typeof r&&"string"===$.type(r.name)&&(r=r.name),t[r]={name:r,index:e,order:a,type:1},a++)}(),x.data.length&&(X.call(a),Y.call(a)),!0===x.shrinkToFit&&!0===x.forceFit)for(pe=x.colModel.length-1;pe>=0;pe--)if(!0!==x.colModel[pe].hidden){x.colModel[pe].resizable=!1;break}var ve,be,we,ye,Ce,xe,$e,je,_e=[],De=[],Re=[],Se="<thead><tr class='ui-jqgrid-labels' role='row'>",Ne="<tbody><tr style='display:none;'>",Ie=y("states.hover"),Oe=y("states.disabled");if(x.multiSort){_e=x.sortname.split(",");var Ee;for(Ee=0;Ee<_e.length;Ee++)Re=c(_e[Ee]).split(" "),_e[Ee]=c(Re[0]),De[Ee]=Re[1]?c(Re[1]):x.sortorder||"asc"}for(pe=0;pe<x.colNames.length;pe++){switch(fe=x.colModel[pe],Ce=x.headertitles||fe.headerTitle?" title='"+stripHtml("string"==typeof fe.headerTitle?fe.headerTitle:x.colNames[pe])+"'":"",Se+="<th id='"+x.id+"_"+fe.name+"' class='"+y("colHeaders","ui-th-column ui-th-"+A+" "+(fe.labelClasses||""))+"'"+Ce+">",ve=fe.index||fe.name,fe.labelAlign){case"left":xe="text-align:left;";break;case"right":xe="text-align:right;"+(!1===fe.sortable?"":"padding-right:"+x.autoResizing.widthOfVisiblePartOfSortIcon+"px;");break;case"likeData":xe=void 0===fe.align||"left"===fe.align?"text-align:left;":"right"===fe.align?"text-align:right;"+(!1===fe.sortable?"":"padding-right:"+x.autoResizing.widthOfVisiblePartOfSortIcon+"px;"):"";break;default:xe=""}Se+="<div id='jqgh_"+x.id+"_"+fe.name+"'"+(k?" class='ui-th-div-ie'":"")+(""===xe?"":" style='"+xe+"'")+" role='columnheader'>",je=fe.autoResizable&&"actions"!==fe.formatter?"<span class='"+x.autoResizing.wrapperClassName+"'>"+x.colNames[pe]+"</span>":x.colNames[pe],x.sortIconsBeforeText?(Se+=(x.builderSortIcons||jgrid.builderSortIcons).call(a,pe),Se+=je):(Se+=je,Se+=(x.builderSortIcons||jgrid.builderSortIcons).call(a,pe)),Se+="</div></th>",Ne+="<td></td>",fe.width=fe.width?parseInt(fe.width,10):150,"boolean"!=typeof fe.title&&(fe.title=!0),fe.lso="",ve===x.sortname&&(x.lastsort=pe,fe.lso=x.sortorder||fe.firstsortorder||"asc"),x.multiSort&&-1!==(Re=d(ve,_e))&&(fe.lso=De[Re])}Se+="</tr></thead>",Ne+="</tr></tbody>";var qe=$("<table class='"+y("hTable","ui-jqgrid-htable")+"' style='width:1px' role='presentation' aria-labelledby='gbox_"+x.id+"'>"+Se+Ne+"</table>");if($(qe[0].tHead).children("tr").children("th").hover(function(){$(this).addClass(Ie)},function(){$(this).removeClass(Ie)}),x.multiselect&&$(x.cb,qe).on("click",function(){var e,t,r=y("states.select"),i=[],l=x.iColByName.cb,o=function(e,t){$(e)[t?"addClass":"removeClass"](r).attr(t?{"aria-selected":"true",tabindex:"0"}:{"aria-selected":"false",tabindex:"-1"}),void 0!==l&&$(e.cells[l]).children("input.cbox").prop("checked",t)},n=q.fbRows,s=Oe+" ui-subgrid jqgroup jqfoot jqgfirstrow jqgskipselect",d=x._index;if(clearArray(x.selarrrow),this.checked){if(e=!0,x.selrow=a.rows.length>1?a.rows[a.rows.length-1].id:null,x.multiPageSelection&&("local"===x.datatype||x.treeGrid)&&null!=x.data&&x.data.length>0&&null!=d)for(t in d)d.hasOwnProperty(t)&&x.selarrrow.push(x.idPrefix+t)}else e=!1,x.selrow=null;var c=e?x.selarrrow:i;$(a.rows).each(function(t){hasOneFromClasses(this,s)||(o(this,e),$.inArray(this.id,c)<0&&c.push(this.id),n&&o(n[t],e))}),feedback.call(a,"onSelectAll",e?x.selarrrow:i,e)}),!0===x.autowidth){var Ae=Math.floor($(G).innerWidth());x.width=Ae>0?Ae:"nw"}isNaN(x.width)?isNaN(parseFloat(x.width))||(x.width=parseFloat(x.width)):x.width=Number(x.width),x.widthOrg=x.width,function(){var e,t,r,i,a=0,l=jgrid.cell_width?0:E(x.cellLayout,0),o=0,n=E(x.scrollOffset,0),s=!1,c=0,g=jgrid.isCellClassHidden;u(x.colModel,function(){if(void 0===this.hidden&&(this.hidden=!1),x.grouping&&x.autowidth){var e=d(this.name,x.groupingView.groupField);e>=0&&x.groupingView.groupColumnShow.length>e&&(this.hidden=!x.groupingView.groupColumnShow[e])}this.widthOrg=t=E(this.width,0),!1!==this.hidden||g(this.classes)||(a+=t+l,this.fixed?c+=t+l:o++)}),isNaN(x.width)&&(x.width=a+(!1!==x.shrinkToFit||isNaN(x.height)?0:n)),q.width=x.width,x.tblwidth=a,!1===x.shrinkToFit&&!0===x.forceFit&&(x.forceFit=!1),!0===x.shrinkToFit&&o>0&&(r=q.width-l*o-c,isNaN(x.height)||(r-=n,s=!0),a=0,u(x.colModel,function(i){!1!==this.hidden||g(this.classes)||this.fixed||(t=Math.round(r*this.width/(x.tblwidth-l*o-c)),this.width=t,a+=t,e=i)}),i=0,s?q.width-c-(a+l*o)!==n&&(i=q.width-c-(a+l*o)-n):s||1===Math.abs(q.width-c-(a+l*o))||(i=q.width-c-(a+l*o)),x.colModel[e].width+=i,x.tblwidth=a+i+l*o+c,x.tblwidth>x.width&&(x.colModel[e].width-=x.tblwidth-parseInt(x.width,10),x.tblwidth=x.width))}(),$(G).css("width",q.width+"px").append("<div class='"+y("resizer","ui-jqgrid-resize-mark")+"' id='"+x.rsId+"'>&#160;</div>"),$(x.rs).on("selectstart",function(){return!1}).click(O).dblclick(function(e){var t=$(this).data("idx"),i=$(this).data("pageX"),o=x.colModel[t];if(null==i||null==o)return!1;var n=String(i).split(";"),s=parseFloat(n[0]),d=parseFloat(n[1]);return(2!==n.length||!(Math.abs(s-d)>5||Math.abs(e.pageX-s)>5||Math.abs(e.pageX-d)>5))&&(feedback.call(a,"resizeDblClick",t,o,e)&&o.autoResizable&&r.autoResizeColumn.call(l,t),feedback.call(a,"afterResizeDblClick",{iCol:t,cm:o,cmName:o.name}),!1)}),$(T).css("width",q.width+"px");var Te="";x.footerrow&&(Te+="<table role='presentation' style='width:1px' class='"+y("gridFooter","ui-jqgrid-ftable")+"'><tbody><tr role='row' class='"+y("rowFooter","footrow footrow-"+A)+"'>");var ke="<tr class='"+y("gridRow","jqgfirstrow ui-row-"+x.direction)+"' role='row' style='height:auto'>";if(x.disableClick=!1,$("th",qe[0].tHead.rows[0]).each(function(e){var t=x.colModel[e],r=t.name,i=$(this),a=i.children("div"),l=a.children("span.s-ico"),o=x.showOneSortIcon;be=t.width,void 0===t.resizable&&(t.resizable=!0),t.resizable?(we=document.createElement("span"),$(we).html("&#160;").addClass("ui-jqgrid-resize ui-jqgrid-resize-"+A).on("selectstart",function(){return!1}),i.addClass(x.resizeclass)):we="",i.css("width",be+"px").prepend(we),we=null;var n="";if(!0===t.hidden&&(i.css("display","none"),n="display:none;"),ke+="<td role='gridcell' "+(t.classes?"class='"+t.classes+"' ":"")+"style='height:0;width:"+be+"px;"+n+"'></td>",q.headers[e]={width:be,el:this},"boolean"!=typeof(ye=t.sortable)&&(t.sortable=!0,ye=!0),"cb"!==r&&"subgrid"!==r&&"rn"!==r&&ye&&x.viewsortcols[2]&&a.addClass("ui-jqgrid-sortable"),ye)if(x.multiSort){var s="desc"===t.lso?"asc":"desc";x.viewsortcols[0]?(l.css("display",""),t.lso&&(l.children("span.ui-icon-"+t.lso).removeClass(Oe),o&&l.children("span.ui-icon-"+s).hide())):t.lso&&(l.css("display",""),l.children("span.ui-icon-"+t.lso).removeClass(Oe),o&&l.children("span.ui-icon-"+s).hide())}else{var d="desc"===x.sortorder?"asc":"desc";x.viewsortcols[0]?(l.css("display",""),e===x.lastsort&&(l.children("span.ui-icon-"+x.sortorder).removeClass(Oe),o&&l.children("span.ui-icon-"+d).hide())):e===x.lastsort&&""!==t.lso&&(l.css("display",""),l.children("span.ui-icon-"+x.sortorder).removeClass(Oe),o&&l.children("span.ui-icon-"+d).hide())}x.footerrow&&(Te+="<td role='gridcell' "+L(e,0,"",null,"",!1)+">&#160;</td>")}).mousedown(function(e){var t,r=$(this),i=r.closest(".ui-jqgrid-hdiv").hasClass("frozen-div");if(1===$(e.target).closest("th>span.ui-jqgrid-resize").length)return null!=(t=ge(this))&&(!0===x.forceFit&&(x.nv=ue(t)),q.dragStart(t,e,function(){var e=[r.position().left+r.outerWidth()];return"rtl"===x.direction&&(e[0]=x.width-e[0]),e[0]-=i?0:q.bDiv.scrollLeft,e.push($(q.hDiv).position().top),e.push($(q.bDiv).offset().top-$(q.hDiv).offset().top+$(q.bDiv).height()+(q.sDiv?$(q.sDiv).height():0)),e}(),r)),!1}).click(function(e){if(x.disableClick)return x.disableClick=!1,!1;var t,r,i="th.ui-th-column>div";x.viewsortcols[2]?i+=".ui-jqgrid-sortable":i+=">span.s-ico>span.ui-grid-ico-sort";var l=$(e.target).closest(i);if(1===l.length){x.viewsortcols[2]||(t=!0,r=l.hasClass("ui-icon-desc")?"desc":"asc");var o=ge(this);return null!=o&&ce.call(a,$("div",this)[0].id,o,t,r,this),!1}}),x.sortable&&o(r.sortableColumns))try{r.sortableColumns.call(l,$(qe[0].tHead.rows[0]))}catch(e){}x.footerrow&&(Te+="</tr></tbody></table>"),ke+="</tr>",l.html("<tbody>"+ke+"</tbody>"),l.addClass(y("grid","ui-jqgrid-btable"+(!0===x.altRows&&l.jqGrid("isBootstrapGuiStyle")?" table-striped":"")));var Ge=!(!x.caption||!0!==x.hiddengrid),Be=$("<div class='ui-jqgrid-hbox"+("rtl"===A?"-rtl":"")+"'></div>"),Me=y("top"),Pe=y("bottom");if(q.hDiv=document.createElement("div"),$(q.hDiv).css({width:q.width+"px"}).addClass(y("hDiv","ui-jqgrid-hdiv")).append(Be).scroll(function(){var e=$(this).next(".ui-jqgrid-bdiv")[0];return e&&(e.scrollLeft=this.scrollLeft),!1}),$(Be).append(qe),qe=null,Ge&&$(q.hDiv).hide(),x.rowNum=parseInt(x.rowNum,10),(isNaN(x.rowNum)||x.rowNum<=0)&&(x.rowNum=x.maxRowNum),x.pager){var Le,Fe;"string"==typeof x.pager&&"#"!==x.pager.substr(0,1)?(Fe=x.pager,Le=$("#"+jqID(x.pager))):!0===x.pager?(Fe=randId(),(Le=$("<div id='"+Fe+"'></div>")).appendTo("body"),x.pager="#"+jqID(Fe)):Fe=(Le=$(x.pager)).attr("id"),Le.length>0?(Le.css({width:q.width+"px"}).addClass(y("pager.pager","ui-jqgrid-pager "+Pe)).appendTo(G),Ge&&Le.hide(),ne.call(a,Fe,""),x.pager="#"+jqID(Fe)):x.pager=""}!1===x.cellEdit&&!0===x.hoverrows&&l.on("mouseover.jqGrid",function(e){$e=$(e.target).closest("tr.jqgrow"),"ui-subgrid"!==$($e).attr("class")&&$($e).addClass(Ie)}).on("mouseout.jqGrid",function(e){$e=$(e.target).closest("tr.jqgrow"),$($e).removeClass(Ie)});var ze,He,Ve,We=function(e){var t,r,i;do{if((t=$(e).closest("td")).length>0){if(r=t.parent(),i=r.parent().parent(),r.is(".jqgrow")&&(i[0]===this||i.is("table.ui-jqgrid-btable")&&(i[0].id||"").replace("_frozen","")===this.id))break;e=t.parent()}}while(t.length>0);return t};l.before(q.hDiv).click(function(e){var t=y("states.select"),i=e.target,o=We.call(a,i),n=o.parent();if(0!==n.length&&!hasOneFromClasses(n,Oe)){ze=n[0].id;var s=$(i).hasClass("cbox")&&$(i).is(":enabled")&&!hasOneFromClasses(i,Oe),d=feedback.call(a,"beforeSelectRow",ze,e),c=jgrid.detectRowEditing.call(a,ze),u=null!=c&&"cellEditing"!==c.mode;if("A"!==i.tagName&&(!u||s))if(He=o[0].cellIndex,Ve=o.html(),feedback.call(a,"onCellSelect",ze,He,Ve,e),!0!==x.cellEdit)if(d)if(x.multikey)e[x.multikey]?g.call(l,ze,!0,e):x.multiselect&&s&&(s=$("#jqg_"+jqID(x.id)+"_"+ze).is(":checked"),$("#jqg_"+jqID(x.id)+"_"+ze).prop("checked",!s));else if(x.multiselect&&x.multiboxonly)if(s)g.call(l,ze,!0,e);else{var p=x.frozenColumns?x.id+"_frozen":"";$(x.selarrrow).each(function(e,i){var a=r.getGridRowById.call(l,i);a&&$(a).removeClass(t),$("#jqg_"+jqID(x.id)+"_"+jqID(i)).prop("checked",!1),p&&($("#"+jqID(i),"#"+jqID(p)).removeClass(t),$("#jqg_"+jqID(x.id)+"_"+jqID(i),"#"+jqID(p)).prop("checked",!1))}),clearArray(x.selarrrow),g.call(l,ze,!0,e)}else{var f=x.selrow;g.call(l,ze,!0,e),"toggle"!==x.singleSelectClickMode||x.multiselect||f!==ze||(a.grid.fbRows&&(n=n.add(a.grid.fbRows[n[0].rowIndex]===n[0]?a.rows[n[0].rowIndex]:a.grid.fbRows[n[0].rowIndex])),n.removeClass(t).attr({"aria-selected":"false",tabindex:"-1"}),x.selrow=null)}else s&&$(i).prop("checked",!1);else if(x.multiselect&&s&&d)g.call(l,ze,!0,e);else{ze=n[0].rowIndex;try{r.editCell.call(l,ze,He,!0)}catch(e){}}}}).on("reloadGrid",function(e,t){var i=this,a=i.grid,l=$(this);if(!0===x.treeGrid&&(x.datatype=x.treedatatype),t=s({},defaults.reloadGridOptions||{},x.reloadGridOptions||{},t||{}),"local"===x.datatype&&x.dataTypeOrg&&x.loadonce&&t.fromServer&&(x.datatype=x.dataTypeOrg,delete x.dataTypeOrg),t.current&&a.selectionPreserver.call(i),"local"===x.datatype?(x.multiPageSelection||r.resetSelection.call(l),x.data.length&&(X.call(i),Y.call(i))):x.treeGrid||x.multiPageSelection||(x.selrow=null,x.multiselect&&(clearArray(x.selarrrow),oe.call(i,!1)),clearArray(x.savedRow),x.editingInfo={}),x.iRow=-1,x.iCol=-1,x.scroll&&q.emptyRows.call(i,!0,!1),t.page){var o=parseInt(t.page,10);o>x.lastpage&&(o=x.lastpage),o<1&&(o=1),x.page=o,a.prevRowHeight?a.bDiv.scrollTop=(o-1)*a.prevRowHeight*x.rowNum:a.bDiv.scrollTop=0}return a.prevRowHeight&&x.scroll&&void 0===t.page?(delete x.lastpage,a.populateVisible.call(i)):a.populate.call(i),!0===x._inlinenav&&l.jqGrid("showAddEditButtons",!1),!1}).dblclick(function(e){var t=We.call(a,e.target),r=t.parent();if(t.length>0&&!feedback.call(a,"ondblClickRow",r.attr("id"),r[0].rowIndex,t[0].cellIndex,e))return!1}).on("contextmenu",function(e){var t=We.call(a,e.target),r=t.parent(),i=r.attr("id");if(0!==t.length)return x.multiselect||g.call(l,i,!0,e),!!feedback.call(a,"onRightClickRow",i,r[0].rowIndex,t[0].cellIndex,e)&&void 0}),q.bDiv=document.createElement("div"),k&&"auto"===String(x.height).toLowerCase()&&(x.height="100%"),$(q.bDiv).append($("<div style='position:relative;'></div>").append("<div></div>").append(a)).addClass("ui-jqgrid-bdiv").css({height:x.height+(isNaN(x.height)?"":"px"),width:q.width+"px"}).scroll(q.scrollGrid),x.maxHeight&&$(q.bDiv).css("max-height",x.maxHeight+(isNaN(x.maxHeight)?"":"px")),l.css({width:"1px"}),$.support.tbody||2===$(">tbody",a).length&&$(">tbody:gt(0)",a).remove(),x.multikey&&$(q.bDiv).on(jgrid.msie?"selectstart":"mousedown",function(){return!1}),Ge&&$(q.bDiv).hide(),q.cDiv=document.createElement("div");var Ue=w("gridMinimize.visible"),Xe=w("gridMinimize.hidden"),Ye=_("showhide"),Ze=!0===x.hidegrid?$("<a role='link' class='"+y("titleButton","ui-jqgrid-titlebar-close")+"'"+(Ye?" title='"+Ye+"'":"")+"/>").hover(function(){Ze.addClass(Ie)},function(){Ze.removeClass(Ie)}).append("<span class='"+Ue+"'></span>"):"";if($(q.cDiv).append("<span class='ui-jqgrid-title'>"+x.caption+"</span>").append(Ze).addClass(y("gridTitle","ui-jqgrid-titlebar ui-jqgrid-caption"+("rtl"===A?"-rtl ":" ")+Me)),$(q.cDiv).insertBefore(q.hDiv),x.toolbar[0]){q.uDiv=document.createElement("div"),"top"===x.toolbar[1]?$(q.uDiv).insertBefore(q.hDiv):"bottom"===x.toolbar[1]&&$(q.uDiv).insertAfter(q.hDiv);var Qe=y("toolbarUpper","ui-userdata");"both"===x.toolbar[1]?(q.ubDiv=document.createElement("div"),$(q.uDiv).addClass(Qe).attr("id","t_"+x.id).insertBefore(q.hDiv),$(q.ubDiv).addClass(y("toolbarBottom","ui-userdata")).attr("id","tb_"+x.id).insertAfter(q.hDiv),Ge&&$(q.ubDiv).hide()):$(q.uDiv).width(q.width).addClass(Qe).attr("id","t_"+x.id),Ge&&$(q.uDiv).hide()}if("string"==typeof x.datatype&&(x.datatype=x.datatype.toLowerCase()),x.toppager?(x.toppager=x.id+"_toppager",q.topDiv=$("<div id='"+x.toppager+"'></div>")[0],$(q.topDiv).addClass(y("pager.pager","ui-jqgrid-toppager"+(x.caption?"":" "+Me))).css({width:q.width+"px"}).insertBefore(q.hDiv),ne.call(a,x.toppager,"_t"),x.toppager="#"+jqID(x.toppager)):""!==x.pager||x.scroll||(x.rowNum=x.maxRowNum),x.footerrow&&(q.sDiv=$("<div class='ui-jqgrid-sdiv'></div>")[0],Be=$("<div class='ui-jqgrid-hbox"+("rtl"===A?"-rtl":"")+"'></div>"),$(q.sDiv).append(Be).width(q.width).insertAfter(q.hDiv),$(Be).append(Te),q.footers=$(".ui-jqgrid-ftable",q.sDiv)[0].rows[0].cells,x.rownumbers&&(q.footers[0].className=y("rowNum","jqgrid-rownum")),Ge&&$(q.sDiv).hide()),Be=null,x.caption){var Ke=x.datatype;!0===x.hidegrid&&($(".ui-jqgrid-titlebar-close",q.cDiv).click(function(e){var t=".ui-jqgrid-bdiv,.ui-jqgrid-hdiv,.ui-jqgrid-pager,.ui-jqgrid-sdiv",r=this;!0===x.toolbar[0]&&("both"===x.toolbar[1]&&(t+=",#"+jqID($(q.ubDiv).attr("id"))),t+=",#"+jqID($(q.uDiv).attr("id")));var i=$(t,x.gView).length;return x.toppager&&(t+=","+x.toppager),"visible"===x.gridstate?$(t,x.gBox).slideUp("fast",function(){0===--i&&($("span",r).removeClass(Ue).addClass(Xe),x.gridstate="hidden",$(x.gBox).hasClass("ui-resizable")&&$(".ui-resizable-handle",x.gBox).hide(),$(q.cDiv).addClass(Pe),Ge||feedback.call(a,"onHeaderClick",x.gridstate,e))}):"hidden"===x.gridstate&&($(q.cDiv).removeClass(Pe),$(t,x.gBox).slideDown("fast",function(){0===--i&&($("span",r).removeClass(Xe).addClass(Ue),Ge&&(x.datatype=Ke,le.call(a),Ge=!1),x.gridstate="visible",$(x.gBox).hasClass("ui-resizable")&&$(".ui-resizable-handle",x.gBox).show(),Ge||feedback.call(a,"onHeaderClick",x.gridstate,e))})),!1}),Ge&&(x.datatype="local",$(".ui-jqgrid-titlebar-close",q.cDiv).trigger("click")))}else $(q.cDiv).hide(),$(q.cDiv).nextAll("div:visible").first().addClass("ui-corner-top");$(q.hDiv).after(q.bDiv),q.eDiv=$("<div class='"+y("gridError","ui-jqgrid-errorbar ui-jqgrid-errorbar-"+A)+"' style='display:none;'><span class='"+y("gridErrorText","ui-jqgrid-error")+"'></span></div>")[0],$(q.hDiv).after(q.eDiv),$(G).click(O).dblclick(function(e){var t=$(x.rs),i=t.offset(),o=t.data("idx"),n=t.data("delta"),s=x.colModel[o],d=$(this).data("pageX")||t.data("pageX");if(null==d||null==s)return!1;var c=String(d).split(";"),u=parseFloat(c[0]),g=parseFloat(c[1]);return(2!==c.length||!(Math.abs(u-g)>5||Math.abs(e.pageX-u)>5||Math.abs(e.pageX-g)>5))&&(feedback.call(a,"resizeDblClick",o,s)&&i.left-1<=e.pageX+n&&e.pageX+n<=i.left+t.outerWidth()+1&&s.autoResizable&&r.autoResizeColumn.call(l,o),feedback.call(a,"afterResizeDblClick",{iCol:o,cm:s,cmName:s.name}),!1)}),x.pager||$(q.cDiv).nextAll("div:visible").filter(":last").addClass(Pe),$(".ui-jqgrid-labels",q.hDiv).on("selectstart",function(){return!1}),a.formatCol=L,a.sortData=ce,a.updatepager=re,a.refreshIndex=Y,a.addItemDataToColumnIndex=W,a.removeItemDataFromColumnIndex=U,a.generateValueFromColumnIndex=function(e,t,r){var i,a,l=$(this).jqGrid("getUniqueValueFromColumnIndex",e),o="";if(null!=l)for(r=r||";",t=t||":",o="",i=0,a=l.length;i<a;i++)""!==o&&(o+=r||";"),o+=l[i]+(t||":")+l[i];return o},a.setHeadCheckBox=oe,a.fixScrollOffsetAndhBoxPadding=D,a.constructTr=Z,a.formatter=H,s(q,{populate:le,emptyRows:V,beginReq:ie,endReq:ae}),a.addXmlData=J,a.addJSONData=J,a.rebuildRowIndexes=I,a.grid.cols=a.rows[0].cells,feedback.call(a,"onInitGrid"),x.treeGrid&&"local"===x.datatype&&null!=x.data&&x.data.length>0&&(x.datatype="jsonstring",x.datastr=x.data,x.data=[]),le.call(a),x.hiddengrid=!1}else f(j("errors.model"))}else f("Element is not a table!")}})};var base=$.fn.jqGrid;jgrid.extend({getGridRes:function(e){var t=this[0];if(!t||!t.grid||!t.p)return null;var r=jgrid.getRes(locales[t.p.locale],e)||jgrid.getRes(locales["en-US"],e),i=jgrid.getRes(jgrid,e);return"object"!=typeof r||null===r||$.isArray(r)?void 0!==i?i:r:$.extend(!0,{},r,i||{})},getGuiStyles:function(e,t){var r=this instanceof $&&this.length>0?this[0]:this;if(!r||!r.grid||!r.p)return"";var i,a=r.p.guiStyle||jgrid.defaults.guiStyle||"jQueryUI",l=jgrid.getRes(jgrid.guiStyles[a],e);return void 0===l&&"string"==typeof(i=jgrid.getRes(jgrid.guiStyles[a],"baseGuiStyle"))&&(l=jgrid.getRes(jgrid.guiStyles[i],e)),jgrid.mergeCssClasses(l||"",t||"")},isBootstrapGuiStyle:function(){return $.inArray("ui-jqgrid-bootstrap",$(this).jqGrid("getGuiStyles","gBox").split(" "))>=0},displayErrorMessage:function(e){var t=this instanceof $&&this.length>0?this[0]:this;if(t&&t.grid&&t.p&&e){var r=$(t.grid.eDiv),i=r.children(".ui-jqgrid-error");i.html(e),r.show(),t.p.errorDisplayTimeout&&setTimeout(function(){i.empty(),r.hide()},t.p.errorDisplayTimeout)}},getIconRes:function(e){var t=this instanceof $&&this.length>0?this[0]:this;if(!t||!t.p)return"";var r=t.p,i=jgrid.icons[r.iconSet],a=function(e,t){var r,i,a,l=t.split("."),o=l.length,n=[];if(null==(e="string"==typeof e?jgrid.icons[e]:e))return"";for((r=e).common&&n.push(r.common),a=0;a<o&&(i=l[a]);a++){if(void 0===(r=r[i])){if("common"===i)break;return""}if("string"==typeof r){n.push(r);break}null!=r&&r.common&&n.push(r.common)}return jgrid.mergeCssClasses.apply(this,n)};if(null==i)return"";var l=a(r.iconSet,e);return""===l&&null!=i.baseIconSet&&(l=a(i.baseIconSet,e)),l||""},isInCommonIconClass:function(e){var t=this instanceof $&&this.length>0?this[0]:this;if(!t||!t.p)return"";var r=t.p,i=jgrid.icons[r.iconSet];if(null==i)return!1;var a=i.common;if(void 0===a){if(null==i.baseIconSet)return!1;if(null==(i=jgrid.icons[i.baseIconSet]))return!1;a=i.common}return"string"==typeof a&&$.inArray(e,a.split(" "))>=0},getUniqueValueFromColumnIndex:function(e){var t=this[0];if(!t||!t.grid)return null;var r,i=[],a="",l=t.p.indexByColumnData[e];if(null!=l){for(a in l)if(l.hasOwnProperty(a)){for(r in l[a])if(l[a].hasOwnProperty(r)){a=String(l[a][r]);break}i.push(a)}t.p.ignoreCase?void 0===String.prototype.localeCompare?i.sort(function(e,t){var r=e.toLowerCase(),i=t.toLowerCase();return r===i?0:r>i?1:-1}):i.sort(function(e,t){return String(e).toLowerCase().localeCompare(String(t).toLowerCase())}):i.sort()}return i},getGridParam:function(e){var t=this[0];return t&&t.grid?e?void 0!==t.p[e]?t.p[e]:null:t.p:null},setGridParam:function(e,t){return this.each(function(){var r=this;if(null==t&&(t=!1),r.grid&&"object"==typeof e)if(!0===t){var i=$.extend({},r.p,e);r.p=i}else $.extend(!0,r.p,e)})},abortAjaxRequest:function(){return this.each(function(){var e=this;null!=e.p.jqXhr&&e.p.jqXhr.abort(),e.grid.endReq.call(e)})},getGridRowById:function(e){if(null==e)return null;var t,r=e.toString();return this.each(function(){var i,a,l=this.rows;if(null!=this.p.rowIndexes&&(a=l[this.p.rowIndexes[r]])&&a.id===r&&(t=a),!t)try{for(i=l.length;i--;)if(a=l[i],r===a.id){t=a;break}}catch(r){t=$(this.grid.bDiv).find("#"+jqID(e)),t=t.length>0?t[0]:null}}),t},getDataIDs:function(){var e=[];return this.each(function(){var t,r,i=this.rows,a=i.length;if(a&&a>0)for(t=0;t<a;t++)r=i[t],$(r).hasClass("jqgrow")&&e.push(r.id)}),e},setSelection:function(e,t,r){return this.each(function(){var i,a,l,o,n,s,d,c=this,u=$(c),g=c.p,p=base.getGuiStyles,f=base.getGridRowById,h=p.call(u,"states.select"),m=p.call(u,"states.disabled"),v=c.grid.fbRows,b=function(e,t){var r=t?"addClass":"removeClass",i=g.iColByName.cb,a=t?{"aria-selected":"true",tabindex:"0"}:{"aria-selected":"false",tabindex:"-1"},l=function(e){$(e)[r](h).attr(a),void 0!==i&&$(e.cells[i]).children("input.cbox").prop("checked",t)};l(e),v&&l(v[e.rowIndex])};void 0!==e&&(t=!1!==t,null!=r&&(d=$(r.target).closest("tr.jqgrow")).length>0&&(a=d[0],v&&(a=c.rows[a.rowIndex])),null==a&&(a=f.call(u,e)),!a||!a.className||a.className.indexOf(m)>-1||(!0===g.scrollrows&&null!=(l=f.call(u,e))&&(l=l.rowIndex)>=0&&function(e,t){var r=t.clientHeight,i=t.scrollTop,a=$(e).position().top,l=e.clientHeight;a+l>=r+i?t.scrollTop=a-(r+i)+l+i:a<r+i&&a<i&&(t.scrollTop=a)}(c.rows[l],c.grid.bDiv),g.multiselect?(c.setHeadCheckBox(!1),g.selrow=a.id,-1===(o=$.inArray(g.selrow,g.selarrrow))?(i=!0,g.selarrrow.push(g.selrow)):null!==jgrid.detectRowEditing.call(c,a.id)?i=!0:(i=!1,g.selarrrow.splice(o,1),n=g.selarrrow[0],g.selrow=void 0===n?null:n),"ui-subgrid"!==a.className&&b(a,i),t&&feedback.call(c,"onSelectRow",a.id,i,r||{})):"ui-subgrid"!==a.className&&(g.selrow!==a.id?(null!==g.selrow&&(s=f.call(u,g.selrow))&&b(s,!1),b(a,!0),i=!0):i=!1,g.selrow=a.id,t&&feedback.call(c,"onSelectRow",a.id,i,r||{}))))})},resetSelection:function(e){return this.each(function(){var t,r=this,i=$(this),a=r.p,l=base.getGuiStyles,o=base.getGridRowById,n=l.call(i,"states.select"),s="edit-cell "+n,d="selected-row "+l.call(i,"states.hover"),c=a.iColByName.cb,u=void 0!==c,g=r.grid.fbRows,p=function(e){var t,r={"aria-selected":"false",tabindex:"-1"};$(e).removeClass(n).attr(r),u&&$(e.cells[c]).children("input.cbox").prop("checked",!1),g&&(t=g[e.rowIndex],$(t).removeClass(n).attr(r),u&&$(t.cells[c]).children("input.cbox").prop("checked",!1))};if(void 0!==e){if(t=o.call(i,e),p(t),u){r.setHeadCheckBox(!1);var f=$.inArray(e,a.selarrrow);-1!==f&&a.selarrrow.splice(f,1)}}else a.multiselect?($(r.rows).each(function(){var e=$.inArray(this.id,a.selarrrow);-1!==e&&(p(this),a.selarrrow.splice(e,1))}),r.setHeadCheckBox(!1),a.multiPageSelection||clearArray(a.selarrrow),a.selrow=null):a.selrow&&(t=o.call(i,a.selrow),p(t),a.selrow=null);!0===a.cellEdit&&parseInt(a.iCol,10)>=0&&parseInt(a.iRow,10)>=0&&(null!=(t=r.rows[a.iRow])&&($(t.cells[a.iCol]).removeClass(s),$(t).removeClass(d)),g&&null!=(t=g[a.iRow])&&($(t.cells[a.iCol]).removeClass(s),$(t).removeClass(d))),clearArray(a.savedRow),a.editingInfo={}})},isCellEditing:function(e,t,r){var i=this[0],a=jgrid.detectRowEditing.call(i,e);if(null!=a&&("inlineEditing"===a.mode||"cellEditing"===a.mode&&a.savedRow.ic===t)){t=isNaN(t)?i.p.iColByName[t]:parseInt(t,10);var l=null!=r&&r.id===e?r:base.getGridRowById.call($(i),e),o=i.p.colModel[t],n=o.editable;if($.isFunction(n)&&(n=n.call(i,{rowid:e,id:stripPref(i.p.idPrefix,e),iCol:t,iRow:l.rowIndex,cmName:o.name,cm:o,mode:a.mode,td:l.cells[t],tr:l,dataElement:jgrid.getDataFieldOfCell.call(i,l,t)[0]})),!0===n)return!0}return!1},getRowData:function(e,t){var r,i={};return"object"==typeof e&&(t=e,e=void 0),t=t||{},this.each(function(){var a,l,o,n,s,d,c,u=this,g=u.p,p=!1,f=1,h=u.rows;if(void 0===e)p=!0,r=[],f=h.length;else if(!(a=base.getGridRowById.call($(u),e)))return i;for(l=0;l<f;l++)if(p&&(a=h[l]),$(a).hasClass("jqgrow")){for(jgrid.detectRowEditing.call(u,e),n=$(a).find("td[role=gridcell]"),o=0;o<n.length;o++)if(s=g.colModel[o],d=s.name,$.inArray(d,g.reservedColumnNames)<0&&"actions"!==s.formatter&&(!t.skipHidden||!s.hidden))if(c=n[o],base.isCellEditing.call($(u),e,o,a))i[d]=jgrid.getEditedValue.call(u,jgrid.getDataFieldOfCell.call(u,a,o),s,{},s.editable);else if(!0===g.treeGrid&&d===g.ExpandColumn)i[d]=htmlDecode($("span",c).first().html());else try{i[d]=$.unformat.call(u,c,{rowId:e,colModel:s},o)}catch(e){i[d]=htmlDecode($(c).html())}!t.includeId||!1!==g.keyName&&null!=i[g.keyName]||(i[g.prmNames.id]=stripPref(g.idPrefix,a.id)),p&&(r.push(i),i={})}}),r||i},delRowData:function(e){var t,r,i,a=!1;return this.each(function(){var l=this,o=l.p;if(!(t=base.getGridRowById.call($(l),e)))return!1;if(o.subGrid&&(i=$(t).next()).hasClass("ui-subgrid")&&i.remove(),$(t).remove(),o.records--,o.reccount--,l.updatepager(!0,!1),a=!0,o.multiselect&&-1!==(r=$.inArray(e,o.selarrrow))&&o.selarrrow.splice(r,1),o.multiselect&&o.selarrrow.length>0?o.selrow=o.selarrrow[o.selarrrow.length-1]:o.selrow===e&&(o.selrow=null),"local"===o.datatype){var n=stripPref(o.idPrefix,e),s=o._index[n];void 0!==s&&(l.removeItemDataFromColumnIndex(n),o.data.splice(s,1),l.refreshIndex())}if(l.rebuildRowIndexes(),!0===o.altRows&&a&&!$(l).jqGrid("isBootstrapGuiStyle")){var d=o.altclass,c=l.grid.fbRows;$(l.rows).each(function(e){var t=$(this);c&&(t=t.add(c[this.rowIndex])),t[e%2==0?"addClass":"removeClass"](d)})}feedback.call(l,"afterDelRow",e)}),a},setRowData:function(e,t,r){var i=!0;return this.each(function(){var a,l=this,o=l.p,n=typeof r,s={};if(!l.grid)return!1;if(!(a=base.getGridRowById.call($(l),e)))return!1;if(t)try{var d,c=stripPref(o.idPrefix,e),u=o._index[c],g={},p=null!=u?o.data[u]:void 0;if($(o.colModel).each(function(e){var r=this,i=r.name,a=getAccessor(t,i);void 0!==a&&("local"===o.datatype&&null!=p&&(a=convertOnSaveLocally.call(l,a,r,p[i],c,p,e),$.isFunction(r.saveLocally)?r.saveLocally.call(l,{newValue:a,newItem:s,oldItem:p,id:c,cm:r,cmName:i,iCol:e}):s[i]=a),g[i]=a)}),$(o.colModel).each(function(r){var i,n=this,d=n.name,c=getAccessor(t,d),u=$(a.cells[r]);if(void 0!==c){"local"===o.datatype&&null!=p&&(c=s[d]),i=n.title?{title:c}:{},c=l.formatter(e,c,r,t,"edit",g);var f=u;!0===o.treeGrid&&d===o.ExpandColumn&&(f=f.children("span.cell-wrapperleaf,span.cell-wrapper").first()),f.html(c),u.attr(i),o.frozenColumns&&(f=$(l.grid.fbRows[a.rowIndex].cells[r]),!0===o.treeGrid&&d===o.ExpandColumn&&(f=f.children("span.cell-wrapperleaf,span.cell-wrapper").first()),f.html(c).attr(i))}}),"local"===o.datatype){if(o.treeGrid)for(d in o.treeReader)o.treeReader.hasOwnProperty(d)&&delete s[o.treeReader[d]];void 0!==p&&(o.data[u]=$.extend(!0,p,s),l.removeItemDataFromColumnIndex(c),l.addItemDataToColumnIndex(o.data[u],c))}feedback.call(l,"afterSetRow",{rowid:e,inputData:t,iData:u,iRow:a.rowIndex,tr:a,localData:s,cssProp:r})}catch(e){i=!1}i&&("string"===n?$(a).addClass(r):null!==r&&"object"===n&&$(a).css(r))}),i},changeRowid:function(e,t){return this.each(function(){var r,i,a,l,o,n,s,d=this,c=$(d),u=d.p;if(d.grid&&u&&e!==t&&(l=c.jqGrid("getGridRowById",e))&&null==c.jqGrid("getGridRowById",t)){var g=jgrid.stripPref(u.idPrefix,e),p=jgrid.stripPref(u.idPrefix,t),f=!1===u.keyName?u.prmNames.id:u.keyName,h=function(){var e=this.id,t=e.length-g.length;t>0&&e.substr(t)===g&&$(this).attr("id",e.substr(0,t)+p)};for(u.iColByName[f]>=0?c.jqGrid("setCell",e,f,p):"local"===u.datatype&&void 0!==u._index[g]&&(u._index[p]=u._index[g],r=u.data[u._index[g]],delete u._index[g],r.hasOwnProperty(f)&&(r[f]=p)),u.rowIndexes[t]=l.rowIndex,delete u.rowIndexes[e],(o=null==d.grid.fbRows?$(l):$(l).add(d.grid.fbRows[l.rowIndex])).attr("id",t),u.selrow===e&&(u.selrow=t),$.isArray(u.selarrrow)&&(i=$.inArray(e,u.selarrrow))>=0&&(u.selarrrow[i]=t),u.multiselect&&(a="jqg_"+u.id+"_"+t,o.find("input.cbox").attr("id",a).attr("name",a)),i=0;i<u.colModel.length;i++)"actions"===(n=u.colModel[i]).formatter?o.find(".ui-jqgrid-actions .ui-pg-div").each(h):("showlink"===n.formatter||null!=n.unformat&&null!=n.formatter)&&(s=c.jqGrid("getCell",t,i),c.jqGrid("setCell",t,i,s,!1,!1,!0));feedback.call(d,"afterChangeRowid",{rowid:t,oldRowid:e,iRow:l.rowIndex,tr:l})}})},addRowData:function(e,t,r,i){$.inArray(r,["first","last","before","after","afterSelected","beforeSelected"])<0&&(r="last");var a,l,o,n,s,d,c,u,g,p,f,h=!1;return t&&($.isArray(t)?(d=!0,c=e):(t=[t],d=!1),this.each(function(){var m,v,b=this,w=b.p,y=t.length,C=$(b),x=b.rows,j=0,_=base.getGridRowById,D=w.colModel,R=w.additionalProperties;for(d||(void 0!==e?e=String(e):(e=randId(),!1!==w.keyName&&(c=w.keyName,void 0!==t[0][c]&&(e=t[0][c])))),u=w.altclass;j<y;){if(g=t[j],l=[],d)try{void 0===(e=g[c])&&(e=randId())}catch(t){e=randId()}for(f=jgrid.stripPref(w.idPrefix,e),m={},n=0;n<D.length;n++)p=D[n],"rn"!==(a=p.name)&&"cb"!==a&&"subgrid"!==a&&(s=convertOnSaveLocally.call(b,g[a],p,void 0,f,{},n),$.isFunction(p.saveLocally)?p.saveLocally.call(b,{newValue:s,newItem:m,oldItem:{},id:f,rowid:e,cm:p,cmName:a,iCol:n}):void 0!==s&&(m[a]=s));for(n=0;n<R.length;n++)"object"==typeof(a=R[n])&&a.hasOwnProperty("name")&&(a=a.name),void 0!==(s=getAccessor(g,a))&&(m[a]=s);if("local"===w.datatype&&(m[w.localReader.id]=f,w._index[f]=w.data.length,w.data.push(m),b.addItemDataToColumnIndex(m,f)),v=w.grouping,w.grouping=!1,l=jgrid.parseDataToHtml.call(b,1,[e],[g]),w.grouping=v,l=l.join(""),0===x.length)$(b.tBodies[0]).append(l);else switch("afterSelected"!==r&&"beforeSelected"!==r||(void 0===i&&null!==w.selrow?(i=w.selrow,r="afterSelected"===r?"after":"before"):r="afterSelected"===r?"last":"first"),r){case"last":$(x[x.length-1]).after(l),o=x.length-1;break;case"first":$(x[0]).after(l),o=1;break;case"after":(o=_.call(C,i))&&($(x[o.rowIndex+1]).hasClass("ui-subgrid")?($(x[o.rowIndex+1]).after(l),o=o.rowIndex+2):($(o).after(l),o=o.rowIndex+1));break;case"before":(o=_.call(C,i))&&($(o).before(l),o=o.rowIndex-1)}!0===w.subGrid&&base.addSubGrid.call(C,w.iColByName.subgrid,o),w.records++,w.reccount++,0===w.lastpage&&(w.lastpage=1),feedback.call(b,"afterAddRow",{rowid:e,inputData:t,position:r,srcRowid:i,iRow:o,localData:m,iData:w.data.length-1}),j++}!0!==w.altRows||d||C.jqGrid("isBootstrapGuiStyle")||("last"===r?(x.length-1)%2==0&&$(x[x.length-1]).addClass(u):$(x).each(function(e){e%2==1?$(this).addClass(u):$(this).removeClass(u)})),b.rebuildRowIndexes(),b.updatepager(!0,!0),h=!0})),h},footerData:function(e,t,r){function i(e){var t;for(t in e)if(e.hasOwnProperty(t))return!1;return!0}var a=!1,l={};return null==e&&(e="get"),"boolean"!=typeof r&&(r=!0),e=e.toLowerCase(),this.each(function(){var o,n,s,d,c=this,u=c.p;if(!c.grid||!u.footerrow)return!1;if("set"===e&&i(t))return!1;a=!0;var g=$(c.grid.sDiv).children(".ui-jqgrid-hbox").children(".ui-jqgrid-ftable")[0];if(null==g||null==g.rows)return!1;var p=g.rows[0].cells,f=u.colModel,h=null==c.grid.fsDiv?{}:c.grid.fsDiv.children(".ui-jqgrid-ftable")[0].rows[0].cells;if("get"===e)for(d=0;d<f.length;d++)s=f[d].name,$.inArray(s,u.reservedColumnNames)<0&&(!1!==t?(o=$(p[d]).text(),$.trim(o)&&(l[s]=o)):l[s]=$(p[d]).html());else if("set"===e)for(s in t)d=u.iColByName[s],t.hasOwnProperty(s)&&void 0!==d&&(o=r?c.formatter("",t[s],d,t,"edit"):t[s],(n=$(p[d]).add(h[d])).html(o),f[d].title&&n.attr({title:stripHtml(o)}))}),"get"===e?l:a},showHideCol:function(e,t,r){return this.each(function(){var i,a=this,l=$(a),o=a.grid,n=!1,s=a.p,d=jgrid.cell_width?0:s.cellLayout;if(o){"string"==typeof e&&(e=[e]),t="none"!==t&&!1!==t?"":"none",r=r||{};var c=""===t,u=s.groupHeader,g=u&&("object"==typeof u||$.isFunction(u));if(g&&!r.skipSetGroupHeaders&&base.destroyGroupHeader.call(l,!1),$(s.colModel).each(function(l){var u=function(e){var r,i,a,o;for(r=0,i=e.length;r<i;r++)o=(a=e[r]).cells[l],(!$(a).hasClass("jqgroup")||null!=o&&1===o.colSpan)&&(0===r&&$(a).hasClass("jqgfirstrow")?($(o).css("height","1px"),$(o).css("display",t),$(o).css("height","0")):$(o).css("display",t))};if(-1!==$.inArray(this.name,e)&&this.hidden===c){if(!0===s.frozenColumns&&!0===this.frozen&&!r.notSkipFrozen)return!0;u($(o.hDiv).find(".ui-jqgrid-htable>thead>tr")),!0===s.frozenColumns&&null!=o.fhDiv&&u($(o.fhDiv).find(".ui-jqgrid-htable>thead>tr")),u(a.rows),!0===s.frozenColumns&&null!=o.fbRows&&u(a.rows),s.footerrow&&(u($(o.sDiv).find("tr.footrow")),!0===s.frozenColumns&&null!=o.fsDiv&&u($(o.fsDiv).find("tr.footrow"))),i=parseInt(this.width,10),"none"===t?s.tblwidth-=i+d:s.tblwidth+=i+d,this.hidden=!c,n=!0,r.skipFeedback?(r.toReport=r.toReport||{},r.toReport[this.name]=c):feedback.call(a,"onShowHideCol",c,this.name,l,r)}}),!0===n){var p=s.autowidth||void 0!==s.widthOrg&&"auto"!==s.widthOrg&&"100%"!==s.widthOrg?s.width:s.tblwidth+parseInt(s.scrollOffset,10);r.skipSetGridWidth?r.newGridWidth=p:base.setGridWidth.call(l,p)}if(g&&!r.skipSetGroupHeaders)if(null!=s.pivotOptions&&null!=s.pivotOptions.colHeaders&&s.pivotOptions.colHeaders.length>1){var f,h=s.pivotOptions.colHeaders;for(f=0;f<h.length;f++)h[f]&&h[f].groupHeaders.length&&base.setGroupHeaders.call(l,h[f])}else base.setGroupHeaders.call(l,s.groupHeader)}})},hideCol:function(e,t){return this.each(function(){base.showHideCol.call($(this),e,"none",t)})},showCol:function(e,t){return this.each(function(){base.showHideCol.call($(this),e,"",t)})},remapColumns:function(e,t,r){function i(e){var t=e.length?g(e):$.extend({},e);$.each(s,function(r){e[r]=t[this]})}function a(e,t){(t?e.children(t):e.children()).each(function(){var e=this,t=g(e.cells);$.each(s,function(r){var i=t[this],a=e.cells[r];null!=i&&null!=a&&i.cellIndex!==r&&i.parentNode.insertBefore(i,a)})})}var l,o,n,s,d=this[0],c=d.p,u=d.grid,g=$.makeArray,p=!0===c.frozenColumns,f=this.jqGrid("getNumberOfFrozenColumns");if(null!=u&&null!=c){for(s=function(){var t,r=[],i=[],a=e.length;for(t=0;t<a;t++)p&&e[t]<f?r.push(e[t]):i.push(e[t]);return r.concat(i)}(),i(c.colModel),i(c.colNames),i(u.headers),n=$(u.hDiv).children("div").children("table.ui-jqgrid-htable").children("thead"),p&&null!=u.fhDiv&&(n=n.add(u.fhDiv.children("table.ui-jqgrid-htable").children("thead"))),a(n,r&&":not(.ui-jqgrid-labels)"),t&&(n=$(d.tBodies[0]),p&&null!=u.fbDiv&&(n=n.add(u.fbDiv.children("table.ui-jqgrid-btable").children("tbody").first())),a(n,"tr.jqgfirstrow,tr.jqgrow,tr.jqfoot")),c.footerrow&&(n=$(u.sDiv).children("div").children("table.ui-jqgrid-ftable").children("tbody").first(),p&&null!=u.fsDiv&&(n=n.add(u.fsDiv.children("table.ui-jqgrid-ftable").children("tbody").first())),a(n)),c.remapColumns&&(c.remapColumns.length?i(c.remapColumns):c.remapColumns=g(s)),c.lastsort=$.inArray(c.lastsort,s),c.iColByName={},l=0,o=c.colModel.length;l<o;l++)c.iColByName[c.colModel[l].name]=l;feedback.call(d,"onRemapColumns",s,t,r)}},remapColumnsByName:function(e,t,r){var i,a,l=this[0].p,o=[],n=e.slice(),s=$.inArray;for(l.subGrid&&s("subgrid",n)<0&&n.unshift("subgrid"),l.multiselect&&s("cb",n)<0&&n.unshift("cb"),l.rownumbers&&s("rn",n)<0&&n.unshift("rn"),i=0,a=n.length;i<a;i++)o.push(l.iColByName[n[i]]);return base.remapColumns.call(this,o,t,r),this},setGridWidth:function(e,t){return this.each(function(){var r,i,a,l,o=this,n=o.p,s=o.grid,d=0,c=0,u=!1,g=0,p=jgrid.isCellClassHidden,f=e;if(s&&null!=n){o.fixScrollOffsetAndhBoxPadding();var h,m,v,b,w=n.colModel,y=n.scrollOffset,C=jgrid.cell_width?0:n.cellLayout,x=s.headers,j=s.footers,_=s.bDiv,D=s.hDiv,R=s.sDiv,S=s.cols,N=$(D).find(">div>.ui-jqgrid-htable>thead>tr").first()[0].cells,I=function(e){s.width=n.width=e,$(n.gBox).css("width",e+"px"),$(n.gView).css("width",e+"px"),$(_).css("width",e+"px"),$(D).css("width",e+"px"),n.pager&&$(n.pager).css("width",e+"px"),n.toppager&&$(n.toppager).css("width",e+"px"),!0===n.toolbar[0]&&($(s.uDiv).css("width",e+"px"),"both"===n.toolbar[1]&&$(s.ubDiv).css("width",e+"px")),n.footerrow&&$(R).css("width",e+"px")};if("boolean"!=typeof t&&(t=n.shrinkToFit),!isNaN(f)){if(f=parseInt(f,10),I(f),!1===t&&!0===n.forceFit&&(n.forceFit=!1),!0===t){if($.each(w,function(){!1!==this.hidden||p(this.classes)||(r=this.widthOrg,d+=r+C,this.fixed?g+=this.width+C:c++)}),0===c)return;if(n.tblwidth=parseInt(d,10),a=f-C*c-g,isNaN(n.height)||(_.clientHeight<_.scrollHeight||1===o.rows.length)&&(u=!0,a-=y),(b=a/(n.tblwidth-C*c-g))<0)return;if(d=0,v=S.length>0,$.each(w,function(e){!1!==this.hidden||p(this.classes)||this.fixed||(r=Math.round(this.widthOrg*b),this.width=r,d+=r,x[e].width=r,N[e].style.width=r+"px",n.footerrow&&(j[e].style.width=r+"px"),v&&(S[e].style.width=r+"px"),i=e)}),!i)return;l=0,u?f-g-(d+C*c)!==y&&(l=f-g-(d+C*c)-y):1!==Math.abs(f-g-(d+C*c))&&(l=f-g-(d+C*c)),(h=w[i]).width+=l,n.tblwidth=parseInt(d+l+C*c+g,10),n.tblwidth>f&&(m=n.tblwidth-parseInt(f,10),n.tblwidth=f,h.width=h.width-m),r=h.width,x[i].width=r,N[i].style.width=r+"px",v&&(S[i].style.width=r+"px"),n.footerrow&&(j[i].style.width=r+"px"),n.tblwidth+(u?y:0)<n.width&&I(n.tblwidth+(u?y:0)),_.offsetWidth>_.clientWidth&&(n.autowidth||void 0!==n.widthOrg&&"auto"!==n.widthOrg&&"100%"!==n.widthOrg||I(_.offsetWidth))}n.tblwidth&&(n.tblwidth=parseInt(n.tblwidth,10),f=n.tblwidth,D.scrollLeft=_.scrollLeft,m=Math.abs(f-n.width),n.shrinkToFit&&!t&&m<3&&m>0&&(f<n.width&&I(f),_.offsetWidth>_.clientWidth&&(n.autowidth||void 0!==n.widthOrg&&"auto"!==n.widthOrg&&"100%"!==n.widthOrg||I(_.offsetWidth)))),o.fixScrollOffsetAndhBoxPadding();var O={resizeDiv:!0,resizedRows:{iRowStart:t?0:-1,iRowEnd:-1}};$(o).triggerHandler("jqGridResetFrozenHeights",[{header:O,resizeFooter:!0,body:O}])}}})},setGridHeight:function(e){return this.each(function(){var t=this,r=t.grid,i=t.p;if(r){var a=$(r.bDiv);a.css({height:e+(isNaN(e)?"":"px")}),!0===i.frozenColumns&&$(i.idSel+"_frozen").parent().height(a.height()-16),i.height=e,i.scroll&&r.populateVisible.call(t),t.fixScrollOffsetAndhBoxPadding(),$(t).triggerHandler("jqGridResetFrozenHeights")}})},setCaption:function(e){return this.each(function(){var t=this,r=t.grid.cDiv;t.p.caption=e,$("span.ui-jqgrid-title, span.ui-jqgrid-title-rtl",r).html(e),$(r).show(),$(r).nextAll("div").removeClass(base.getGuiStyles.call(t,"top")),$(this).triggerHandler("jqGridResetFrozenHeights")})},setLabel:function(e,t,r,i){return this.each(function(){var a,l,o=this,n=o.p;if(o.grid){if(isNaN(e)){if(void 0===(a=n.iColByName[e]))return}else a=parseInt(e,10);a>=0&&(l=$(o.grid.headers[a].el),n.frozenColumns&&(l=l.add(o.grid.fhDiv.find(".ui-jqgrid-htable tr.ui-jqgrid-labels th.ui-th-column").eq(a))),t&&(l.each(function(){var e=$("[id^=jqgh_]",this),r=e.children("span.ui-jqgrid-cell-wrapper");if(r.length>0)r.html(t);else{var i=$(".s-ico",this);e.empty().html(t)[n.sortIconsBeforeText?"prepend":"append"](i)}}),n.colNames[a]=t),r&&("string"==typeof r?l.addClass(r):l.css(r)),"object"==typeof i&&l.attr(i))}})},setCell:function(e,t,r,i,a,l){return this.each(function(){var o,n,s,d,c,u,g,p,f,h,m=this,v=m.p,b=-1,w=v.colModel,y={};if(m.grid&&(b=isNaN(t)?v.iColByName[t]:parseInt(t,10))>=0&&(c=base.getGridRowById.call($(m),e))){if(u=jgrid.getCell.call(m,c,b),""!==r||!0===l){if(s=w[b],"local"===v.datatype&&(f=stripPref(v.idPrefix,e),void 0!==(h=v._index[f])&&(d=v.data[h])),null==d){for(n=0;n<c.cells.length;n++)if(n!==b&&(g=jgrid.getDataFieldOfCell.call(m,c,n)).length>0){try{p=$.unformat.call(m,g,{rowId:e,colModel:w[n]},n)}catch(e){p=htmlDecode(g[0].innerHTML)}y[w[n].name]=p}}else y=d;y[s.name]=r,o=m.formatter(e,r,b,y,"edit");var C=u;!0===v.treeGrid&&s.name===v.ExpandColumn&&(C=C.children("span.cell-wrapperleaf,span.cell-wrapper").first()),C.html(o),s.title&&u.attr({title:r}),null!=d&&(o=convertOnSaveLocally.call(m,r,s,d[s.name],f,d,b),$.isFunction(s.saveLocally)?s.saveLocally.call(m,{newValue:o,newItem:d,oldItem:d,id:f,cm:s,cmName:s.name,iCol:b}):d[s.name]=o)}(i||a)&&(u=jgrid.getCell.call(m,c,b),i&&u["string"==typeof i?"addClass":"css"](i),"object"==typeof a&&u.attr(a))}})},getCell:function(e,t){var r=!1;return this.each(function(){var i,a,l,o,n=this,s=n.p;if(n.grid&&(i=isNaN(t)?s.iColByName[t]:parseInt(t,10))>=0&&(a=base.getGridRowById.call($(n),e))){l=jgrid.getDataFieldOfCell.call(n,a,i).first(),o=s.colModel[i];try{r=base.isCellEditing.call($(n),e,i,a)?jgrid.getEditedValue.call(n,l,o,{},o.editable):$.unformat.call(n,l,{rowId:a.id,colModel:o},i)}catch(e){r=htmlDecode(l.html())}}}),r},getCol:function(e,t,r){var i,a,l,o,n=[],s=0;return t="boolean"==typeof t&&t,void 0===r&&(r=!1),this.each(function(){var d,c,u=this,g=u.p;if(u.grid&&(d=isNaN(e)?g.iColByName[e]:parseInt(e,10))>=0){var p,f,h=u.rows,m=h.length,v=0,b=0,w=g.colModel[d];if(m&&m>0){for(;v<m;){if(p=h[v],$(p).hasClass("jqgrow")){c=jgrid.getDataFieldOfCell.call(u,p,d).first(),f=p.id;try{i=base.isCellEditing.call($(u),f,d,p)?jgrid.getEditedValue.call(u,c,w,{},w.editable):$.unformat.call(u,c,{rowId:f,colModel:w},d)}catch(e){i=htmlDecode(c.html())}r?(o=parseFloat(i),isNaN(o)||(s+=o,void 0===l&&(l=a=o),a=Math.min(a,o),l=Math.max(l,o),b++)):t?n.push({id:f,value:i}):n.push(i)}v++}if(r)switch(r.toLowerCase()){case"sum":n=s;break;case"avg":n=s/b;break;case"count":n=m-1;break;case"min":n=a;break;case"max":n=l}}}}),n},clearGridData:function(e){return this.each(function(){var t=this,r=t.p,i=t.rows,a=t.grid;a&&r&&i&&("boolean"!=typeof e&&(e=!1),$(t).off(".jqGridFormatter"),a.emptyRows.call(t,!1,!0),r.footerrow&&e&&$(".ui-jqgrid-ftable td",a.sDiv).html("&#160;"),r.selrow=null,clearArray(r.selarrrow),clearArray(r.savedRow),r.editingInfo={},clearArray(r.data),clearArray(r.lastSelectedData),r._index={},r.rowIndexes={},r.dataIndexById={},r.indexByColumnData={},r.records=0,r.page=1,r.lastpage=0,r.reccount=0,t.updatepager(!0,!1))})},getInd:function(e,t){var r=base.getGridRowById.call($(this),e);return!!r&&(!0===t?r:r.rowIndex)},bindKeys:function(e){var t=$.extend({onEnter:null,onSpace:null,onLeftKey:null,onRightKey:null,scrollingRows:!0},e||{});return this.each(function(){var e=this,r=e.p,i=$(e);r.scrollrows=t.scrollingRows,i.on("keydown.jqGrid",function(a){var l=$(this).find("tr[tabindex=0]")[0],o=jgrid.detectRowEditing.call(e,$(a.target).closest("tr.jqgrow").attr("id")),n=function(e){do{if(null===(l=l[e]))return}while($(l).is(":hidden")||!$(l).hasClass("jqgrow"));base.setSelection.call(i,l.id,!0),a.preventDefault()},s=function(a,l){var o=t["on"+a+(l||"")];i.triggerHandler("jqGridKey"+a,[r.selrow]),$.isFunction(o)&&o.call(e,r.selrow)},d=function(e){if(r.treeGrid){var t=r.data[r._index[stripPref(r.idPrefix,l.id)]][r.treeReader.expanded_field];"Right"===e&&(t=!t),t&&$(l).find("div.treeclick").trigger("click")}s(e,"Key")};if(l&&null===o)switch(a.keyCode){case 38:n("previousSibling");break;case 40:n("nextSibling");break;case 37:d("Left");break;case 39:d("Right");break;case 13:s("Enter");break;case 32:s("Space")}})})},unbindKeys:function(){return this.each(function(){$(this).off("keydown.jqGrid")})},getLocalRow:function(e){var t,r=!1;return this.each(function(){void 0!==e&&(t=this.p._index[stripPref(this.p.idPrefix,e)])>=0&&(r=this.p.data[t])}),r},progressBar:function(e){return e=$.extend({htmlcontent:"",method:"hide",loadtype:"disable"},e||{}),this.each(function(){var t="show"===e.method,r=jqID(this.p.id),i=$("#load_"+r);switch(""!==e.htmlcontent&&i.html(e.htmlcontent),e.loadtype){case"disable":break;case"enable":i.toggle(t);break;case"block":$("#lui_"+r).toggle(t),i.toggle(t)}})},setColWidth:function(e,t,r,i){return this.each(function(){var a,l=this,o=$(l),n=l.grid,s=l.p;if("string"==typeof e){if(void 0===(e=s.iColByName[e]))return}else if("number"!=typeof e)return;null!=(a=n.headers[e])&&(a.newWidth=t,n.newWidth=s.tblwidth+t-a.width,n.resizeColumn(e,!s.frozenColumns,i),!1===r||i||(l.fixScrollOffsetAndhBoxPadding(),base.setGridWidth.call(o,n.newWidth+s.scrollOffset,!1)))})},getAutoResizableWidth:function(e){var t=this;if(0===t.length)return-1;var r,i,a,l,o,n=(t=t[0]).rows,s=t.p,d=s.colModel[e],c=$(t.grid.headers[e].el),u=c.find(">div"),g=parseFloat(c.css("padding-left")||0),p=parseFloat(c.css("padding-right")||0),f=u.find("span.s-ico"),h=u.find(">."+s.autoResizing.wrapperClassName),m=h.outerWidth(),v=parseFloat(h.css("width")||0),b=0,w=0,y=null!=d.autoResizing&&void 0!==d.autoResizable.compact?d.autoResizable.compact:s.autoResizing.compact,C=s.autoResizing.wrapperClassName;if(null==d||!d.autoResizable||0===h.length||d.hidden||jgrid.isCellClassHidden(d.classes)||d.fixed)return-1;for(y&&!f.is(":visible")&&"none"===f.css("display")||(w=f.outerWidth(!0),s.sortIconsBeforeText||(w-="rtl"===s.direction?parseFloat(f.css("padding-left")||0)+parseFloat(f.css("margin-left")||0):parseFloat(f.css("padding-right")||0)+parseFloat(f.css("margin-right")||0))),w+=m+g+(v===m?g+p:0)+parseFloat(u.css("margin-left")||0)+parseFloat(u.css("margin-right")||0),a=0,n=t.rows;a<n.length;a++)i=(r=n[a]).cells[e],l=$(r.cells[e]),null!=i&&($(r).hasClass("jqgrow")||$(r).hasClass("jqgroup")&&1===i.colSpan)?(o=$(i.firstChild)).hasClass(C)?w=Math.max(w,o.outerWidth()+b):s.treeGrid&&s.ExpandColumn===d.name&&(o=l.children(".cell-wrapper,.cell-wrapperleaf"),w=Math.max(w,o.outerWidth()+b+l.children(".tree-wrap").outerWidth())):$(r).hasClass("jqgfirstrow")&&(b=(jgrid.cell_width?parseFloat(l.css("padding-left")||0)+parseFloat(l.css("padding-right")||0):0)+parseFloat(l.css("border-right")||0)+parseFloat(l.css("border-left")||0));return w=Math.max(w,null!=d.autoResizing&&void 0!==d.autoResizing.minColWidth?d.autoResizing.minColWidth:s.autoResizing.minColWidth),Math.min(w,null!=d.autoResizing&&void 0!==d.autoResizing.maxColWidth?d.autoResizing.maxColWidth:s.autoResizing.maxColWidth)},autoResizeColumn:function(e,t){return this.each(function(){var r,i=this,a=$(this),l=i.p,o=l.colModel[e],n=$(i.grid.headers[e].el),s=base.getAutoResizableWidth.call(a,e),d=(o.autoResizing||{}).resetWidthOrg;null==o||s<0||s===o.width||(base.setColWidth.call(a,e,s,l.autoResizing.adjustGridWidth&&!l.autoResizing.fixWidthOnShrink&&!t,t),l.autoResizing.fixWidthOnShrink&&l.shrinkToFit&&!t&&(o.fixed=!0,r=o.widthOrg,o.widthOrg=o.width,base.setGridWidth.call(a,l.width,!0),o.widthOrg=r,o.fixed=!1),(d||void 0===d&&l.autoResizing.resetWidthOrg)&&(o.widthOrg=o.width),n.data("autoResized","true"))})},autoResizeAllColumns:function(){return this.each(function(){var e,t,r=this,i=$(r),a=r.p,l=a.colModel,o=l.length,n=a.shrinkToFit,s=a.autoResizing.adjustGridWidth,d=a.autoResizing.fixWidthOnShrink,c=parseInt(a.widthOrg,10),u=r.grid,g=base.autoResizeColumn;for(a.shrinkToFit=!1,a.autoResizing.adjustGridWidth=!0,a.autoResizing.fixWidthOnShrink=!1,e=0;e<o;e++)(t=l[e]).autoResizable&&"actions"!==t.formatter&&g.call(i,e,!0);u.hDiv.scrollLeft=u.bDiv.scrollLeft,a.footerrow&&(u.sDiv.scrollLeft=u.bDiv.scrollLeft),r.fixScrollOffsetAndhBoxPadding(),isNaN(c)?s&&base.setGridWidth.call(i,u.newWidth+a.scrollOffset,!1):base.setGridWidth.call(i,c,!1),a.autoResizing.fixWidthOnShrink=d,a.autoResizing.adjustGridWidth=s,a.shrinkToFit=n})}})});
//# sourceMappingURL=grid.base.js.map